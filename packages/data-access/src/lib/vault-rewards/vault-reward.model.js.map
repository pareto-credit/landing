{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/vault-rewards/vault-reward.model.ts"],"sourcesContent":["import S from 'fluent-json-schema'\nimport {\n  Block,\n  ClientEntity,\n  iBigInt,\n  Page,\n  PageSearchQuery,\n  sBCAddress,\n  sBigInt,\n  sBlock,\n  sClientEntity,\n  sPageSearchQuery,\n  sStringId,\n} from '../core'\nimport { VAULT_REWARDS_ROUTES_KEY } from './vault-reward.const'\n\nexport interface VaultReward extends VaultRewardData, ClientEntity {}\n\nexport function sVaultReward(isPartial?: boolean) {\n  return S.object()\n    .id('#vaultReward')\n    .additionalProperties(false)\n    .extend(sClientEntity(isPartial))\n    .extend(sVaultRewardData(isPartial))\n}\n\nexport interface VaultRewardData {\n  tokenId: string\n  vaultId: string\n  vaultAddress: string\n  block: Block\n  type: VaultRewardType\n  walletId: string\n  walletAddress: string\n  status: VaultRewardStatus\n  amount: iBigInt\n}\n\nexport function sVaultRewardData(isPartial?: boolean) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('tokenId', sStringId())\n    .prop('vaultId', sStringId())\n    .prop('vaultAddress', sBCAddress())\n    .prop('block', sBlock())\n    .prop('type', sVaultRewardType())\n    .prop('walletId', sStringId())\n    .prop('walletAddress', sBCAddress())\n    .prop('status', sVaultRewardStatus())\n    .prop('amount', sBigInt())\n    .required(\n      isPartial\n        ? []\n        : [\n            'tokenId',\n            'vaultId',\n            'vaultAddress',\n            'block',\n            'type',\n            'walletId',\n            'walletAddress',\n            'status',\n            'amount',\n          ]\n    )\n}\n\nexport type VaultRewardType = 'PARETO_TOKEN_CLAIM' | 'PARETO_TOKEN_REWARD'\n\nexport function sVaultRewardType() {\n  return S.string().enum(['PARETO_TOKEN_CLAIM', 'PARETO_TOKEN_REWARD'])\n}\n\nexport type VaultRewardStatus = 'PENDING' | 'CLAIMED'\n\nexport function sVaultRewardStatus() {\n  return S.string().enum(['PENDING', 'CLAIMED'])\n}\n\nexport type VaultRewardField =\n  | '_id'\n  | 'vaultId'\n  | 'vaultAddress'\n  | 'walletId'\n  | 'walletAddress'\n  | 'status'\n  | 'type'\n  | 'amount'\n  | 'block'\n\nexport const VAULT_REWARD_FIELDS: VaultRewardField[] = [\n  '_id',\n  'vaultId',\n  'vaultAddress',\n  'walletId',\n  'walletAddress',\n  'status',\n  'type',\n  'amount',\n  'block',\n]\n\nexport const VAULT_REWARD_SORT_FIELDS = ['block.number']\nexport type VaultRewardSortField = 'block.number'\n\nexport interface VaultRewardsSearchQuery\n  extends PageSearchQuery<VaultRewardSortField> {\n  vaultId?: string | string[]\n  vaultAddress?: string | string[]\n  walletId?: string | string[]\n  walletAddress?: string | string[]\n  status?: VaultRewardStatus | VaultRewardStatus[]\n  type?: VaultRewardType | VaultRewardType[]\n  'timestamp:gte'?: number\n  'timestamp:lte'?: number\n}\n\nexport function sVaultRewardsSearchQuery() {\n  return S.object()\n    .prop('vaultId', S.array().items(sStringId()).minItems(1).maxItems(200))\n    .prop(\n      'vaultAddress',\n      S.array().items(sBCAddress()).minItems(1).maxItems(200)\n    )\n    .prop(\n      'walletAddress',\n      S.array().items(sBCAddress()).minItems(1).maxItems(200)\n    )\n    .prop('walletId', S.array().items(sStringId()).minItems(1).maxItems(200))\n    .prop('status', S.array().items(sVaultRewardStatus()))\n    .prop('type', S.array().items(sVaultRewardType()))\n    .extend(sPageSearchQuery(VAULT_REWARD_FIELDS, VAULT_REWARD_SORT_FIELDS))\n}\n\nexport interface VaultRewardsClientModel {\n  search: (params?: VaultRewardsSearchQuery) => Promise<Page<VaultReward>>\n  searchAll: (params?: VaultRewardsSearchQuery) => Promise<Page<VaultReward>>\n  list: (params?: VaultRewardsSearchQuery) => Promise<VaultReward[]>\n  listAll: (params?: VaultRewardsSearchQuery) => Promise<VaultReward[]>\n  findOne: (\n    params?: VaultRewardsSearchQuery\n  ) => Promise<VaultReward | undefined>\n}\n\nexport enum VaultRewardRoutes {\n  v1Search = `v1/${VAULT_REWARDS_ROUTES_KEY}`,\n}\n"],"names":["VAULT_REWARD_FIELDS","VAULT_REWARD_SORT_FIELDS","sVaultReward","sVaultRewardData","sVaultRewardStatus","sVaultRewardType","sVaultRewardsSearchQuery","isPartial","S","object","id","additionalProperties","extend","sClientEntity","prop","sStringId","sBCAddress","sBlock","sBigInt","required","string","enum","array","items","minItems","maxItems","sPageSearchQuery","VaultRewardRoutes","VAULT_REWARDS_ROUTES_KEY"],"mappings":";;;;;;;;;;;IA0FaA,mBAAmB;eAAnBA;;IAYAC,wBAAwB;eAAxBA;;;;;IApFGC,YAAY;eAAZA;;IAoBAC,gBAAgB;eAAhBA;;IAqCAC,kBAAkB;eAAlBA;;IANAC,gBAAgB;eAAhBA;;IAgDAC,wBAAwB;eAAxBA;;;;2EArHF;sBAaP;kCACkC;AAIlC,SAASJ,aAAaK,SAAmB;IAC9C,OAAOC,yBAAC,CAACC,MAAM,GACZC,EAAE,CAAC,gBACHC,oBAAoB,CAAC,OACrBC,MAAM,CAACC,IAAAA,mBAAa,EAACN,YACrBK,MAAM,CAACT,iBAAiBI;AAC7B;AAcO,SAASJ,iBAAiBI,SAAmB;IAClD,OAAOC,yBAAC,CAACC,MAAM,GACZE,oBAAoB,CAAC,OACrBG,IAAI,CAAC,WAAWC,IAAAA,eAAS,KACzBD,IAAI,CAAC,WAAWC,IAAAA,eAAS,KACzBD,IAAI,CAAC,gBAAgBE,IAAAA,gBAAU,KAC/BF,IAAI,CAAC,SAASG,IAAAA,YAAM,KACpBH,IAAI,CAAC,QAAQT,oBACbS,IAAI,CAAC,YAAYC,IAAAA,eAAS,KAC1BD,IAAI,CAAC,iBAAiBE,IAAAA,gBAAU,KAChCF,IAAI,CAAC,UAAUV,sBACfU,IAAI,CAAC,UAAUI,IAAAA,aAAO,KACtBC,QAAQ,CACPZ,YACI,EAAE,GACF;QACE;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;KACD;AAEX;AAIO,SAASF;IACd,OAAOG,yBAAC,CAACY,MAAM,GAAGC,IAAI,CAAC;QAAC;QAAsB;KAAsB;AACtE;AAIO,SAASjB;IACd,OAAOI,yBAAC,CAACY,MAAM,GAAGC,IAAI,CAAC;QAAC;QAAW;KAAU;AAC/C;AAaO,MAAMrB,sBAA0C;IACrD;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAMC,2BAA2B;IAAC;CAAe;AAejD,SAASK;IACd,OAAOE,yBAAC,CAACC,MAAM,GACZK,IAAI,CAAC,WAAWN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAACR,IAAAA,eAAS,KAAIS,QAAQ,CAAC,GAAGC,QAAQ,CAAC,MAClEX,IAAI,CACH,gBACAN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAACP,IAAAA,gBAAU,KAAIQ,QAAQ,CAAC,GAAGC,QAAQ,CAAC,MAEpDX,IAAI,CACH,iBACAN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAACP,IAAAA,gBAAU,KAAIQ,QAAQ,CAAC,GAAGC,QAAQ,CAAC,MAEpDX,IAAI,CAAC,YAAYN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAACR,IAAAA,eAAS,KAAIS,QAAQ,CAAC,GAAGC,QAAQ,CAAC,MACnEX,IAAI,CAAC,UAAUN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAACnB,uBAC/BU,IAAI,CAAC,QAAQN,yBAAC,CAACc,KAAK,GAAGC,KAAK,CAAClB,qBAC7BO,MAAM,CAACc,IAAAA,sBAAgB,EAAC1B,qBAAqBC;AAClD;;UAYY0B;sDACC,CAAC,GAAG,EAAEC,0CAAwB,CAAC,CAAC;GADjCD,sBAAAA"}