{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/vault-epochs/vault-epoch.model.ts"],"sourcesContent":["import S from 'fluent-json-schema'\nimport {\n  Block,\n  ClientEntity,\n  iBigInt,\n  Page,\n  PageSearchQuery,\n  sBCAddress,\n  sBigInt,\n  sBlock,\n  sClientEntity,\n  sDateString,\n  sPageSearchQuery,\n  sStringId,\n  UnitTime,\n} from '../core'\nimport {\n  sVaultTemplateType,\n  VaultTemplateType,\n  WalletEpochStats,\n} from '../vaults/vault.model'\nimport { sVaultBlockTvl, VaultBlockTvl } from '../vault-blocks'\nimport { VAULT_EPOCHS_ROUTES_KEY } from './vault-epoch.const'\n\nexport interface VaultEpoch extends VaultEpochData, ClientEntity {}\n\nexport function sVaultEpoch(isPartial?: boolean) {\n  return S.object()\n    .id('#vaultEpoch')\n    .additionalProperties(false)\n    .extend(sClientEntity(isPartial))\n    .extend(sVaultEpochData(isPartial))\n}\n\nexport interface VaultEpochData extends VaultEpochBody {\n  vaultId: string\n  vaultAddress: string\n}\n\nexport function sVaultEpochData(isPartial?: boolean) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('vaultId', sStringId())\n    .prop('vaultAddress', sBCAddress())\n    .prop('block', sBlock())\n    .required(isPartial ? [] : ['vaultId', 'vaultAddress', 'block'])\n    .extend(sVaultEpochBody(isPartial))\n}\nexport interface VaultEpochBody {\n  block: Block\n\n  APRs: VaultEpochAPRs\n  APYs?: VaultEpochAPYs\n  TVL: VaultBlockTvl\n  creditExtended: VaultCreditExtended\n  totalSupply: iBigInt\n  price: iBigInt\n\n  deposits: iBigInt\n  duration: number\n  bufferDuration: number\n  unclaimedFees: iBigInt\n\n  /**\n   * @deprecated Use interest.GROSS instead\n   */\n  expectedInterest: iBigInt\n  interest?: VaultEpochInterest\n\n  startDate?: string\n  endDate?: string\n\n  count: number\n  status: VaultEpochStatus\n\n  withdrawType: VaultEpochWithdrawType\n\n  depositQueue?: VaultEpochQueue\n  withdrawQueue?: VaultEpochQueue\n\n  withdraws?: VaultEpochWithdraws\n  instantWithdraws?: VaultEpochInstantWithdraws\n}\n\nexport function sVaultEpochBody(isPartial?: boolean) {\n  return S.object()\n    .prop('APRs', sVaultEpochAPRs())\n    .prop('APYs', sVaultEpochAPYs())\n    .prop('interest', sVaultEpochInterest())\n    .prop('totalSupply', sBigInt())\n    .prop('price', sBigInt())\n    .prop('TVL', sVaultBlockTvl())\n    .prop('creditExtended', sVaultCreditExtended())\n    .prop('expectedInterest', sBigInt())\n    .prop('unclaimedFees', sBigInt())\n    .prop('deposits', sBigInt())\n    .prop('duration', S.number())\n    .prop('status', sVaultEpochStatus())\n    .prop('withdrawType', sVaultEpochWithdrawType())\n    .prop('count', S.number())\n    .prop('bufferDuration', S.number())\n    .prop('startDate', S.string())\n    .prop('endDate', S.string())\n    .prop('withdraws', sVaultEpochWithdraws())\n    .prop('depositQueue', sVaultEpochQueue())\n    .prop('withdrawQueue', sVaultEpochQueue())\n    .prop('instantWithdraws', sVaultEpochInstantWithdraws())\n    .required(\n      isPartial\n        ? []\n        : [\n            'APRs',\n            'totalSupply',\n            'price',\n            'TVL',\n            'expectedInterest',\n            'unclaimedFees',\n            'deposits',\n            'duration',\n            'status',\n            'withdrawType',\n            'count',\n            'bufferDuration',\n          ]\n    )\n}\n\nexport interface VaultCreditExtended {\n  token: iBigInt\n  USD: iBigInt\n}\n\nexport function sVaultCreditExtended() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('token', sBigInt())\n    .required()\n    .prop('USD', sBigInt())\n    .required()\n}\n\nexport type VaultEpochWithdrawType = 'INSTANT' | 'STANDARD'\n\nexport function sVaultEpochWithdrawType() {\n  return S.string().enum(['INSTANT', 'STANDARD'])\n}\n\nexport interface VaultEpochAPYs {\n  // Gross APY\n  GROSS: number\n  // Net APY\n  NET: number\n  // Performance Fee\n  FEE: number\n}\n\nexport function sVaultEpochAPYs() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('GROSS', S.number())\n    .required()\n    .prop('NET', S.number())\n    .required()\n    .prop('FEE', S.number())\n    .required()\n}\n\nexport interface VaultEpochAPRs {\n  // Epoch GROSS interest rate\n  EPOCH: number\n  // Buffer GROSS interest rate\n  BUFFER: number\n  // Cure GROSS interest rate\n  CURE?: number\n  // Gross interest rate (EPOCH + BUFFER + CURE)\n  GROSS: number\n  // Net Interest rate (GROSS - fee)\n  NET: number\n  // Difference between previous gross APR and the current one\n  DELTA: number\n}\n\nexport function sVaultEpochAPRs() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('EPOCH', S.number())\n    .required()\n    .prop('BUFFER', S.number())\n    .required()\n    .prop('CURE', S.number())\n    .prop('GROSS', S.number())\n    .required()\n    .prop('NET', S.number())\n    .required()\n    .prop('DELTA', S.number())\n    .required()\n}\n\nexport interface VaultEpochInterest {\n  NET: iBigInt\n  FEE: iBigInt\n  GROSS: iBigInt\n}\n\nexport function sVaultEpochInterest() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('NET', sBigInt())\n    .required()\n    .prop('FEE', sBigInt())\n    .required()\n    .prop('GROSS', sBigInt())\n    .required()\n}\n\nexport interface VaultEpochWithdrawals {\n  NET: string\n  INTEREST: string\n  FEE: string\n  GROSS: string\n}\n\nexport interface VaultEpochFEEs {\n  CYCLE: string\n  WITHDRAWALS: string\n  TOTAL: string\n}\n\nexport interface VaultEpochPrincipal {\n  PREVIOUS: string // prev PRINCIPAL\n  DEPOSITS: string // deposits of the current cycle already processed\n  WITHDRAWALS: string // net withdrawals (without fee)\n  PRINCIPAL: string // PREVIOUS + DEPOSITS - WITHDRAWALS\n  TOTAL_SUPPLY: string // PRINCIPAL / price\n  DELTA: string // PRINCIPAL - PREVIOUS\n}\n\n// Epoch durations in seconds\nexport interface VaultEpochDurations {\n  EPOCH: number\n  BUFFER: number\n  CURE: number\n  TOTAL: number\n}\n\nexport interface VaultEpochAmounts {\n  tvl: number | string\n  netInterest: number | string\n  grossInterest?: number | string\n  totalAPR?: number\n  epochBufferAPR?: number\n  lastAPR?: number\n  feePercentage?: number\n}\n\nexport interface VaultEpochTimings {\n  startDate: string | Date\n  epochDuration: number\n  bufferDuration: number\n  lastEndDate?: string | Date\n}\n\nexport type VaultEpochStatus =\n  | 'WAITING'\n  | 'RUNNING'\n  | 'DEFAULTED'\n  | 'FINISHED'\n  | 'CURE'\n\nexport function sVaultEpochStatus() {\n  return S.string().enum([\n    'WAITING',\n    'RUNNING',\n    'DEFAULTED',\n    'FINISHED',\n    'CURE',\n  ])\n}\n\nexport interface VaultEpochQueue {\n  status: VaultEpochQueueStatus\n  amount: iBigInt\n}\n\nexport function sVaultEpochQueue() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('amount', sBigInt())\n    .required()\n    .prop('status', sVaultEpochQueueStatus())\n    .required()\n}\n\nexport type VaultEpochQueueStatus = 'PENDING' | 'PROCESSED'\n\nexport function sVaultEpochQueueStatus() {\n  return S.string().enum(['PENDING', 'PROCESSED'])\n}\n\nexport interface VaultEpochWithdraws {\n  amount: iBigInt\n  fees: iBigInt\n}\n\nexport function sVaultEpochWithdraws() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('amount', sBigInt())\n    .required()\n    .prop('fees', sBigInt())\n    .required()\n}\n\nexport interface VaultEpochInstantWithdraws {\n  amount: iBigInt\n  delay: number\n  aprDelta: number\n  allowed: boolean\n  deadline?: string\n}\n\nexport function sVaultEpochInstantWithdraws() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('amount', sBigInt())\n    .required()\n    .prop('delay', S.number())\n    .required()\n    .prop('aprDelta', S.number())\n    .required()\n    .prop('allowed', S.boolean())\n    .required()\n    .prop('deadline', S.string())\n}\n\nexport interface VaultEpochWithdrawsCheck {\n  balance: boolean\n  allowance: boolean\n}\n\nexport interface VaultEpochProgression {\n  endDate: string\n  startDate: string\n  progress: number\n}\n\nexport type VaultEpochFields =\n  | '_id'\n  | 'block'\n  | 'APRs'\n  | 'TVL'\n  | 'totalSupply'\n  | 'price'\n  | 'deposits'\n  | 'duration'\n  | 'bufferDuration'\n  | 'unclaimedFees'\n  | 'expectedInterest'\n  | 'startDate'\n  | 'endDate'\n  | 'count'\n  | 'status'\n  | 'withdrawType'\n  | 'depositQueue'\n  | 'withdrawQueue'\n  | 'withdraws'\n  | 'instantWithdraws'\n  | 'createdAt'\n  | 'createdBy'\n  | 'updatedAt'\n  | 'updatedBy'\n\nexport const VAULT_EPOCH_FIELDS = [\n  '_id',\n  'block',\n  'APRs',\n  'TVL',\n  'totalSupply',\n  'price',\n  'deposits',\n  'duration',\n  'bufferDuration',\n  'unclaimedFees',\n  'expectedInterest',\n  'startDate',\n  'endDate',\n  'count',\n  'status',\n  'withdrawType',\n  'depositQueue',\n  'withdrawQueue',\n  'withdraws',\n  'instantWithdraws',\n  'createdAt',\n  'createdBy',\n  'updatedAt',\n  'updatedBy',\n]\n\nexport const VAULT_EPOCH_SORT_FIELDS = ['_id', 'count', 'timestamp']\n\nexport interface VaultEpochsSearchQuery\n  extends PageSearchQuery<'count' | 'timestamp'> {\n  vaultId?: string | string[]\n  vaultAddress?: string | string[]\n  status?: VaultEpochStatus\n  count?: number\n  'count:lt'?: number\n  'count:lte'?: number\n  'count:gt'?: number\n  'count:gte'?: number\n  'timestamp:gte'?: number\n  'timestamp:lte'?: number\n  startDate?: string\n  'startDate:lt'?: string\n  'startDate:lte'?: string\n  'startDate:gt'?: string\n  'startDate:gte'?: string\n  endDate?: string\n  'endDate:lt'?: string\n  'endDate:lte'?: string\n  'endDate:gt'?: string\n  'endDate:gte'?: string\n}\n\nexport function sVaultEpochsSearchQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('vaultId', S.array().minItems(1).maxItems(200).items(sStringId()))\n    .description('The vault IDentifier')\n    .prop(\n      'vaultAddress',\n      S.array().minItems(1).maxItems(200).items(sBCAddress())\n    )\n    .description('The vault blockchain address')\n    .prop('count', S.number())\n    .description('The epoch number that must match')\n    .prop('count:lt', S.number())\n    .description('The epoch number less then')\n    .prop('count:lte', S.number())\n    .description('The epoch number less or equal than')\n    .prop('count:gt', S.number())\n    .description('The epoch number greater than')\n    .prop('count:gte', S.number())\n    .description('The epoch number greater or equal than')\n    .prop('timestamp:gte', S.number())\n    .description('The epoch block timestamp greater or equal than')\n    .prop('timestamp:lte', S.number())\n    .description('The epoch block timestamp less or equal than')\n    .prop('startDate', sDateString())\n    .description('The epoch start date equal than')\n    .prop('startDate:lt', sDateString())\n    .description('The epoch start date less than')\n    .prop('startDate:lte', sDateString())\n    .description('The epoch start date less or equal than')\n    .prop('startDate:gt', sDateString())\n    .description('The epoch start date greater than')\n    .prop('startDate:gte', sDateString())\n    .description('The epoch start date greater or equal than')\n    .prop('endDate', sDateString())\n    .description('The epoch end date equal than')\n    .prop('endDate:lt', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:lte', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:gt', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:gte', sDateString())\n    .description('The epoch start date equal than')\n    .prop('status', sVaultEpochStatus())\n    .description('The status that must match')\n    .extend(sPageSearchQuery(VAULT_EPOCH_FIELDS, VAULT_EPOCH_SORT_FIELDS))\n}\n\nexport interface VaultEpochPdfQuery {\n  type: VaultTemplateType\n  output?: 'inline' | 'download'\n}\n\nexport function sVaultEpochPdfQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('type', sVaultTemplateType())\n    .required()\n    .prop(\n      'output',\n      S.string()\n        .enum(['inline', 'download'])\n        .description('Controls if the PDF renders inline or downloads.')\n    )\n}\n\nexport interface VaultEpochsClientModel {\n  create: (body: VaultEpochData) => Promise<VaultEpoch>\n  search: (params?: VaultEpochsSearchQuery) => Promise<Page<VaultEpoch>>\n  searchAll: (params?: VaultEpochsSearchQuery) => Promise<Page<VaultEpoch>>\n  list: (params?: VaultEpochsSearchQuery) => Promise<VaultEpoch[]>\n  listAll: (params?: VaultEpochsSearchQuery) => Promise<VaultEpoch[]>\n  findOne: (params?: VaultEpochsSearchQuery) => Promise<VaultEpoch | undefined>\n  holders: (\n    vaultEpochId: string,\n    params?: PageSearchQuery\n  ) => Promise<Page<WalletEpochStats>>\n  pdf: (\n    vaultEpochId: string,\n    params: VaultEpochPdfQuery\n  ) => Promise<ArrayBuffer>\n}\n\nexport enum VaultEpochRoutes {\n  v1Create = `v1/${VAULT_EPOCHS_ROUTES_KEY}`,\n  v1Delete = `v1/${VAULT_EPOCHS_ROUTES_KEY}/:vaultEpochId`,\n  v1Read = `v1/${VAULT_EPOCHS_ROUTES_KEY}/:vaultEpochId`,\n  v1Update = `v1/${VAULT_EPOCHS_ROUTES_KEY}/:vaultEpochId`,\n  v1Search = `v1/${VAULT_EPOCHS_ROUTES_KEY}`,\n  v1Holders = `v1/${VAULT_EPOCHS_ROUTES_KEY}/:vaultEpochId/holders`,\n  v1Pdf = `v1/${VAULT_EPOCHS_ROUTES_KEY}/:vaultEpochId/pdf`,\n}\n\nexport interface VaultCdoEpochData {\n  epoch: VaultEpoch\n  lastEpoch?: VaultEpoch\n  withdrawAmount: string\n  withdrawDeadline: Date\n  instantWithdrawed?: boolean\n  interests: string\n  duration: number\n  durationSeconds: number\n  feePercentage: number\n  unit: UnitTime\n  APRs: VaultEpochAPRs\n  lastAPRs?: VaultEpochAPRs\n  toWithdraw: string\n  isDefaultable: boolean\n}\n\nexport enum VaultEpochErrorCodes {\n  cdoEpochNotFound = 'VAULT_EPOCH_CDO_EPOCH_NOT_FOUND',\n  interestNotFound = 'VAULT_EPOCH_INTEREST_NOT_FOUND',\n}\n\nexport type MovementRow = {\n  label: string\n  amount: string\n  variant?: 'negative'\n}\n\nexport type EpochHolderRow = {\n  label: string\n  startBalance: string\n  endBalance: string\n  interest: string\n  fee: string\n}\n"],"names":["VAULT_EPOCH_FIELDS","VAULT_EPOCH_SORT_FIELDS","sVaultCreditExtended","sVaultEpoch","sVaultEpochAPRs","sVaultEpochAPYs","sVaultEpochBody","sVaultEpochData","sVaultEpochInstantWithdraws","sVaultEpochInterest","sVaultEpochPdfQuery","sVaultEpochQueue","sVaultEpochQueueStatus","sVaultEpochStatus","sVaultEpochWithdrawType","sVaultEpochWithdraws","sVaultEpochsSearchQuery","isPartial","S","object","id","additionalProperties","extend","sClientEntity","prop","sStringId","sBCAddress","sBlock","required","sBigInt","sVaultBlockTvl","number","string","enum","boolean","array","minItems","maxItems","items","description","sDateString","sPageSearchQuery","sVaultTemplateType","VaultEpochRoutes","VAULT_EPOCHS_ROUTES_KEY","VaultEpochErrorCodes"],"mappings":"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"}