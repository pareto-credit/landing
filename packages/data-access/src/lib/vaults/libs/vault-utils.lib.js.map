{"version":3,"sources":["../../../../../../../../libs/shared/data-access/src/lib/vaults/libs/vault-utils.lib.ts"],"sourcesContent":["import { uniq } from 'lodash'\nimport { Vault } from '../vault.model'\n\n/**\n * Get the operator IDs from a vault.\n * @param vault - the vault object\n * @returns the operator IDs\n */\nexport function getVaultOperatorIds(vault: Vault): string[] {\n  let operatorIds: string[] = []\n\n  if (vault.operatorIds) {\n    operatorIds = vault.operatorIds\n  }\n\n  if (vault.cdoEpoch?.borrower.operatorId) {\n    operatorIds.push(vault.cdoEpoch.borrower.operatorId)\n  }\n  if (vault.cdoEpoch?.manager.operatorId) {\n    operatorIds.push(vault.cdoEpoch.manager.operatorId)\n  }\n\n  if (vault.pools) {\n    operatorIds = [\n      ...operatorIds,\n      ...vault.pools\n        .filter((p) => !!p.operatorId)\n        .map((p) => p.operatorId as string),\n    ]\n  }\n\n  return uniq(operatorIds)\n}\n"],"names":["uniq","getVaultOperatorIds","vault","operatorIds","cdoEpoch","borrower","operatorId","push","manager","pools","filter","p","map"],"mappings":"AAAA,SAASA,IAAI,QAAQ,SAAQ;AAG7B;;;;CAIC,GACD,OAAO,SAASC,oBAAoBC,KAAY;QAO1CA,iBAGAA;IATJ,IAAIC,cAAwB,EAAE;IAE9B,IAAID,MAAMC,WAAW,EAAE;QACrBA,cAAcD,MAAMC,WAAW;IACjC;IAEA,KAAID,kBAAAA,MAAME,QAAQ,qBAAdF,gBAAgBG,QAAQ,CAACC,UAAU,EAAE;QACvCH,YAAYI,IAAI,CAACL,MAAME,QAAQ,CAACC,QAAQ,CAACC,UAAU;IACrD;IACA,KAAIJ,mBAAAA,MAAME,QAAQ,qBAAdF,iBAAgBM,OAAO,CAACF,UAAU,EAAE;QACtCH,YAAYI,IAAI,CAACL,MAAME,QAAQ,CAACI,OAAO,CAACF,UAAU;IACpD;IAEA,IAAIJ,MAAMO,KAAK,EAAE;QACfN,cAAc;eACTA;eACAD,MAAMO,KAAK,CACXC,MAAM,CAAC,CAACC,IAAM,CAAC,CAACA,EAAEL,UAAU,EAC5BM,GAAG,CAAC,CAACD,IAAMA,EAAEL,UAAU;SAC3B;IACH;IAEA,OAAON,KAAKG;AACd"}