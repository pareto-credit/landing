"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
function _export(target, all) {
    for(var name in all)Object.defineProperty(target, name, {
        enumerable: true,
        get: all[name]
    });
}
_export(exports, {
    VAULT_FIELDS: function() {
        return VAULT_FIELDS;
    },
    VAULT_SORT_FIELDS: function() {
        return VAULT_SORT_FIELDS;
    },
    VaultErrorCodes: function() {
        return VaultErrorCodes;
    },
    VaultRoutes: function() {
        return VaultRoutes;
    },
    VaultsRoutingKey: function() {
        return VaultsRoutingKey;
    },
    sVault: function() {
        return sVault;
    },
    sVaultBaseTransactionBody: function() {
        return sVaultBaseTransactionBody;
    },
    sVaultCampaign: function() {
        return sVaultCampaign;
    },
    sVaultCdo: function() {
        return sVaultCdo;
    },
    sVaultCdoEpoch: function() {
        return sVaultCdoEpoch;
    },
    sVaultContractAPRs: function() {
        return sVaultContractAPRs;
    },
    sVaultContractData: function() {
        return sVaultContractData;
    },
    sVaultContractPoolData: function() {
        return sVaultContractPoolData;
    },
    sVaultContractPoolTokenInfo: function() {
        return sVaultContractPoolTokenInfo;
    },
    sVaultContractTokenData: function() {
        return sVaultContractTokenData;
    },
    sVaultContractType: function() {
        return sVaultContractType;
    },
    sVaultData: function() {
        return sVaultData;
    },
    sVaultDistributedRewardsBody: function() {
        return sVaultDistributedRewardsBody;
    },
    sVaultDistributionType: function() {
        return sVaultDistributionType;
    },
    sVaultDocument: function() {
        return sVaultDocument;
    },
    sVaultIntegration: function() {
        return sVaultIntegration;
    },
    sVaultIntegrationParams: function() {
        return sVaultIntegrationParams;
    },
    sVaultIntegrationProvider: function() {
        return sVaultIntegrationProvider;
    },
    sVaultIntegrationTag: function() {
        return sVaultIntegrationTag;
    },
    sVaultIntegrationType: function() {
        return sVaultIntegrationType;
    },
    sVaultIntegrationsData: function() {
        return sVaultIntegrationsData;
    },
    sVaultIntegrationsQuery: function() {
        return sVaultIntegrationsQuery;
    },
    sVaultKeyInfo: function() {
        return sVaultKeyInfo;
    },
    sVaultKyc: function() {
        return sVaultKyc;
    },
    sVaultMaxCap: function() {
        return sVaultMaxCap;
    },
    sVaultMinDeposit: function() {
        return sVaultMinDeposit;
    },
    sVaultOperator: function() {
        return sVaultOperator;
    },
    sVaultParetoDollar: function() {
        return sVaultParetoDollar;
    },
    sVaultParetoDollarCollateral: function() {
        return sVaultParetoDollarCollateral;
    },
    sVaultParetoDollarStaking: function() {
        return sVaultParetoDollarStaking;
    },
    sVaultParetoToken: function() {
        return sVaultParetoToken;
    },
    sVaultParetoTokenClaim: function() {
        return sVaultParetoTokenClaim;
    },
    sVaultParetoTokenLocking: function() {
        return sVaultParetoTokenLocking;
    },
    sVaultParetoTokenReward: function() {
        return sVaultParetoTokenReward;
    },
    sVaultPool: function() {
        return sVaultPool;
    },
    sVaultPoolToken: function() {
        return sVaultPoolToken;
    },
    sVaultPositionQuery: function() {
        return sVaultPositionQuery;
    },
    sVaultRewardAddress: function() {
        return sVaultRewardAddress;
    },
    sVaultRewardEmission: function() {
        return sVaultRewardEmission;
    },
    sVaultRewardProgram: function() {
        return sVaultRewardProgram;
    },
    sVaultRewardProgramFrequency: function() {
        return sVaultRewardProgramFrequency;
    },
    sVaultRewardProgramFrequencyUnit: function() {
        return sVaultRewardProgramFrequencyUnit;
    },
    sVaultRwa: function() {
        return sVaultRwa;
    },
    sVaultSibling: function() {
        return sVaultSibling;
    },
    sVaultSignature: function() {
        return sVaultSignature;
    },
    sVaultSignatureEntity: function() {
        return sVaultSignatureEntity;
    },
    sVaultStatus: function() {
        return sVaultStatus;
    },
    sVaultStrategy: function() {
        return sVaultStrategy;
    },
    sVaultSyncEventFilters: function() {
        return sVaultSyncEventFilters;
    },
    sVaultTemplateType: function() {
        return sVaultTemplateType;
    },
    sVaultTransferBody: function() {
        return sVaultTransferBody;
    },
    sVaultTransferEpochBody: function() {
        return sVaultTransferEpochBody;
    },
    sVaultTransferUSPBody: function() {
        return sVaultTransferUSPBody;
    },
    sVaultVisibility: function() {
        return sVaultVisibility;
    },
    sVaultWalletCdoEpochData: function() {
        return sVaultWalletCdoEpochData;
    },
    sVaultWalletCdoEpochWriteOffData: function() {
        return sVaultWalletCdoEpochWriteOffData;
    },
    sVaultWalletData: function() {
        return sVaultWalletData;
    },
    sVaultWalletParetoDollarData: function() {
        return sVaultWalletParetoDollarData;
    },
    sVaultWalletPoolData: function() {
        return sVaultWalletPoolData;
    },
    sVaultWalletPoolTokenData: function() {
        return sVaultWalletPoolTokenData;
    },
    sVaultsPerformances: function() {
        return sVaultsPerformances;
    },
    sVaultsPerformancesAPRs: function() {
        return sVaultsPerformancesAPRs;
    },
    sVaultsPerformancesChain: function() {
        return sVaultsPerformancesChain;
    },
    sVaultsPerformancesQuery: function() {
        return sVaultsPerformancesQuery;
    },
    sVaultsPerformancesToken: function() {
        return sVaultsPerformancesToken;
    },
    sVaultsSearchQuery: function() {
        return sVaultsSearchQuery;
    },
    sWalletEpochStats: function() {
        return sWalletEpochStats;
    },
    sWalletEpochStatsEarnings: function() {
        return sWalletEpochStatsEarnings;
    },
    sWalletEpochStatsEarningsPercentage: function() {
        return sWalletEpochStatsEarningsPercentage;
    }
});
const _interop_require_default = require("@swc/helpers/_/_interop_require_default");
const _fluentjsonschema = /*#__PURE__*/ _interop_require_default._(require("fluent-json-schema"));
const _core = require("../core");
const _web3client = require("../web3-client");
const _vaultblocks = require("../vault-blocks");
const _vaultconst = require("./vault.const");
const _campaigns = require("../campaigns");
const _walletblocks = require("../wallet-blocks");
const _transactions = require("../transactions");
function sVault(isPartial) {
    return _fluentjsonschema.default.object().id('#vault').additionalProperties(false).extend((0, _core.sClientEntity)(isPartial)).extend(sVaultData(isPartial));
}
function sVaultData(isPartial) {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).prop('chainId', (0, _core.sStringId)()).prop('typeId', (0, _core.sStringId)()).prop('categoryId', (0, _core.sStringId)()).prop('operatorIds', _fluentjsonschema.default.array().items(_fluentjsonschema.default.string())).prop('name', _fluentjsonschema.default.string()).prop('address', (0, _core.sBCAddress)()).prop('symbol', _fluentjsonschema.default.string()).prop('protocol', (0, _web3client.sWeb3Protocol)()).prop('contractType', sVaultContractType()).prop('abi', (0, _core.sAbiContract)()).prop('abiCode', (0, _web3client.sAbiCode)()).prop('description', (0, _core.sLocales)()).prop('shortDescription', (0, _core.sLocales)()).prop('caption', (0, _core.sLocales)()).prop('keyInfo', _fluentjsonschema.default.array().items(sVaultKeyInfo())).prop('metaContent', (0, _core.sMetaContent)()).prop('metaItems', (0, _core.sMetaItems)()).prop('visibility', sVaultVisibility()).prop('status', sVaultStatus()).prop('feePercentage', _fluentjsonschema.default.number()).prop('harvestTokenIds', _fluentjsonschema.default.array().items(_fluentjsonschema.default.string())).prop('supportedTokenIds', _fluentjsonschema.default.array().items(_fluentjsonschema.default.string())).prop('rewardPrograms', _fluentjsonschema.default.array().items(sVaultRewardProgram())).prop('rewardEmissions', _fluentjsonschema.default.array().items(sVaultRewardEmission())).prop('cdo', sVaultCdo()).prop('cdoEpoch', sVaultCdoEpoch()).prop('paretoDollar', sVaultParetoDollar()).prop('strategy', sVaultStrategy()).prop('pools', _fluentjsonschema.default.array().items(sVaultPool())).prop('kyc', sVaultKyc()).prop('signatures', _fluentjsonschema.default.array().items(sVaultSignature())).prop('integrations', _fluentjsonschema.default.array().items(sVaultIntegration())).prop('rwa', _fluentjsonschema.default.array().items(sVaultRwa())).prop('maxCap', sVaultMaxCap()).prop('minDeposit', sVaultMinDeposit()).prop('documents', _fluentjsonschema.default.array().items(sVaultDocument())).prop('campaigns', _fluentjsonschema.default.array().items(sVaultCampaign())).prop('siblings', _fluentjsonschema.default.array().items(sVaultSibling())).required(isPartial ? [] : [
        'tokenId',
        'chainId',
        'name',
        'address',
        'symbol',
        'protocol',
        'contractType',
        'visibility',
        'status',
        'feePercentage'
    ]);
}
function sVaultRwa() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('rwaId', _fluentjsonschema.default.string()).required().prop('isActive', _fluentjsonschema.default.boolean()).required().prop('type', _fluentjsonschema.default.string().enum([
        'sUSP',
        'USP'
    ]));
}
function sVaultCdo() {
    return _fluentjsonschema.default.object().additionalProperties(false).extend((0, _web3client.sWeb3BaseContract)());
}
function sVaultCdoEpoch() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('borrower', sVaultOperator()).required().prop('manager', sVaultOperator()).required().prop('mode', _fluentjsonschema.default.string().enum([
        'STRATEGY',
        'CREDIT'
    ])).required().prop('waitingPeriod', _fluentjsonschema.default.number()).prop('depositQueue', (0, _web3client.sWeb3BaseContract)()).prop('withdrawQueue', (0, _web3client.sWeb3BaseContract)()).prop('writeOff', (0, _web3client.sGenericContract)()).extend((0, _web3client.sWeb3BaseContract)());
}
function sVaultStrategy() {
    return _fluentjsonschema.default.object().additionalProperties(false).extend((0, _web3client.sWeb3BaseContract)());
}
function sVaultParetoDollar() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).required().prop('managers', _fluentjsonschema.default.array().items(sVaultOperator())).required().prop('queue', (0, _web3client.sWeb3BaseContract)()).required().prop('staking', sVaultParetoDollarStaking()).required().prop('collaterals', _fluentjsonschema.default.array().items(sVaultParetoDollarCollateral()));
}
function sVaultParetoDollarStaking() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).required().extend((0, _web3client.sWeb3BaseContract)());
}
function sVaultParetoDollarCollateral() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).required().prop('tokenAddress', (0, _core.sBCAddress)()).required();
}
function sVaultParetoToken() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('claim', sVaultParetoTokenClaim()).prop('locking', sVaultParetoTokenLocking()).prop('reward', sVaultParetoTokenReward());
}
function sVaultParetoTokenClaim() {
    return _fluentjsonschema.default.object().additionalProperties(false).extend((0, _web3client.sGenericContract)());
}
function sVaultParetoTokenLocking() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).required().prop('minDuration', _fluentjsonschema.default.number()).required().prop('maxDuration', _fluentjsonschema.default.number()).required().extend((0, _web3client.sGenericContract)());
}
function sVaultParetoTokenReward() {
    return _fluentjsonschema.default.object().additionalProperties(false).extend((0, _web3client.sGenericContract)());
}
function sVaultIntegrationProvider() {
    return _fluentjsonschema.default.string().enum([
        'Usual',
        'Lido',
        'Instadapp',
        'Ethena',
        'Euler',
        'TermFinance'
    ]);
}
function sVaultIntegrationType() {
    return _fluentjsonschema.default.string().enum([
        'APR',
        'strategyAPR',
        'accountVaults',
        'repoTokenHolders'
    ]);
}
function sVaultIntegration() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('provider', sVaultIntegrationProvider()).required().prop('type', sVaultIntegrationType()).required().prop('tags', _fluentjsonschema.default.array().items(sVaultIntegrationTag())).prop('params', sVaultIntegrationParams());
}
function sVaultIntegrationTag() {
    return _fluentjsonschema.default.string().enum([
        'VAULT',
        'WALLET'
    ]);
}
function sVaultIntegrationParams() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('chainId', _fluentjsonschema.default.number()).prop('collateralToken', (0, _core.sBCAddress)());
}
function sVaultIntegrationsData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('APR', _fluentjsonschema.default.number()).prop('lenders', _fluentjsonschema.default.array().items(_fluentjsonschema.default.object().additionalProperties(false).prop('address', (0, _core.sBCAddress)()).required().prop('repoToken', (0, _core.sBCAddress)()).required().prop('balance', (0, _core.sBigInt)()).required().prop('purchaseToken', (0, _core.sBCAddress)()).required()));
}
function sVaultOperator() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('address', _fluentjsonschema.default.string()).description('Operator wallet address').required().prop('operatorId', _fluentjsonschema.default.string()).description('Operator entity ID');
}
function sVaultPool() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('ref', _fluentjsonschema.default.string()).prop('oracle', _fluentjsonschema.default.object().additionalProperties(false).prop('address', (0, _core.sBCAddress)().required()).prop('abi', (0, _core.sAbiContract)()).prop('abiCode', (0, _web3client.sAbiCode)()).prop('protocol', _fluentjsonschema.default.string())).prop('tokens', _fluentjsonschema.default.array().items(sVaultPoolToken())).prop('poolsRefs', _fluentjsonschema.default.array().items((0, _core.sBCAddress)())).prop('isVisible', _fluentjsonschema.default.boolean()).prop('isSyncable', _fluentjsonschema.default.boolean()).prop('endDate', (0, _core.sDateString)()).prop('link', _fluentjsonschema.default.string()).prop('description', (0, _core.sLocales)()).extend((0, _web3client.sWeb3ProtocolContract)());
}
function sVaultPoolToken() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId').extend((0, _web3client.sWeb3BaseContract)());
}
function sVaultRewardProgramFrequencyUnit() {
    return _fluentjsonschema.default.string().enum([
        'D',
        'W',
        'M',
        'Y'
    ]);
}
function sVaultRewardProgramFrequency() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('value', _fluentjsonschema.default.number()).required().prop('unit', sVaultRewardProgramFrequencyUnit()).required();
}
function sVaultRewardProgram() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).required().prop('isActive', _fluentjsonschema.default.boolean()).required().prop('distributionType', sVaultDistributionType()).required().prop('distributionValue', (0, _core.sBigInt)()).required().prop('distributionFrequency', sVaultRewardProgramFrequency()).required().prop('startBlock', _fluentjsonschema.default.number()).prop('endBlock', _fluentjsonschema.default.number()).prop('blocksAmount', _fluentjsonschema.default.number()).prop('tokenAddress', (0, _core.sBCAddress)()).prop('senderAddresses', _fluentjsonschema.default.array().items((0, _core.sBCAddress)())).prop('excludedAddresses', _fluentjsonschema.default.array().items(sVaultRewardAddress()));
}
function sVaultContractType() {
    return _fluentjsonschema.default.string().enum([
        'BestYield',
        'CDO',
        'CDO_EPOCH',
        'PARETO_DOLLAR',
        'PARETO_TOKEN'
    ]);
}
function sVaultRewardAddress() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('address', (0, _core.sBCAddress)()).required().prop('toRedistribute', _fluentjsonschema.default.boolean()).required();
}
function sVaultRewardEmission() {
    return _fluentjsonschema.default.object().additionalProperties(false);
}
function sVaultCampaign() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('_id', (0, _core.sStringId)()).required().prop('rules', _fluentjsonschema.default.array().items((0, _campaigns.sCampaignRule)())).prop('isActive', _fluentjsonschema.default.boolean()).required();
}
function sVaultSibling() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('_id', (0, _core.sStringId)()).required().prop('chainId', (0, _core.sStringId)()).required();
}
function sVaultBaseTransactionBody() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('block', (0, _core.sBlock)()).description('Block').required().prop('transactionHash', _fluentjsonschema.default.string()).description('Transaction hash').required().prop('vaultData', sVaultContractData()).description(`VaultBlock data`).required().prop('transactionInput', _fluentjsonschema.default.string()).description('Transaction input').prop('amount', (0, _core.sBigInt)()).description(`Amount`).prop('price', (0, _core.sBigInt)()).description(`Price`).prop('tokenAmount', (0, _core.sBigInt)()).description(`tokenAmount`).prop('walletAddress', (0, _core.sBCAddress)()).description('Wallet address').prop('tokenAddress', (0, _core.sBCAddress)()).description('Token address').prop('tokenData', (0, _web3client.sERC20Token)()).description('ERC0 token data');
}
function sVaultTransferBody() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('fromAddress', (0, _core.sBCAddress)()).description('Wallet from address').prop('toAddress', (0, _core.sBCAddress)()).description('Wallet to address').extend(sVaultBaseTransactionBody());
}
function sVaultDistributedRewardsBody() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('fromAddress', (0, _core.sBCAddress)()).description('Rewards sender address').required().prop('toAddress', (0, _core.sBCAddress)()).description('Rewards recipient address').required().prop('tokenAddress', (0, _core.sBCAddress)()).description('Reward token address').required().extend(sVaultBaseTransactionBody());
}
function sVaultTransferUSPBody() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('action', (0, _transactions.sTransactionTypeParetoDollar)()).description('USP action').required().extend(sVaultTransferBody());
}
function sVaultTransferEpochBody() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('action', (0, _transactions.sTransactionTypeCdoEpoch)()).description('Epoch action').required().extend(sVaultBaseTransactionBody());
}
function sVaultDistributionType() {
    return _fluentjsonschema.default.string().enum([
        'AMOUNT',
        'TARGET_APY'
    ]);
}
function sVaultVisibility() {
    return _fluentjsonschema.default.string().enum([
        'HIDDEN',
        'RESTRICTED',
        'PUBLIC'
    ]);
}
function sVaultStatus() {
    return _fluentjsonschema.default.string().enum([
        'PAUSED',
        'DISABLED',
        'READY',
        'EXPERIMENTAL',
        'BOOSTED'
    ]);
}
function sVaultsPerformances() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('TVL', (0, _core.sBigInt)()).required().prop('creditExtended', (0, _core.sBigInt)()).required().prop('APRs', sVaultsPerformancesAPRs()).required().prop('tokens', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultsPerformancesToken())).required().prop('chains', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultsPerformancesToken())).required().prop('vaults').required();
}
function sVaultsPerformancesToken() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('token', _fluentjsonschema.default.string()).required().prop('TVL', (0, _vaultblocks.sVaultBlockTvl)()).required().prop('APR', _fluentjsonschema.default.number()).required();
}
function sVaultsPerformancesChain() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('chain', _fluentjsonschema.default.string()).required().prop('TVL', (0, _vaultblocks.sVaultBlockTvl)()).required().prop('APR', _fluentjsonschema.default.number()).required();
}
function sVaultsPerformancesAPRs() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('MIN').required().prop('MAX').required().prop('AVG').required();
}
var VaultErrorCodes;
(function(VaultErrorCodes) {
    VaultErrorCodes["collision"] = "VAULT_COLLISION";
    VaultErrorCodes["notFound"] = "VAULT_NOT_FOUND";
    VaultErrorCodes["notDeletable"] = "VAULT_NOT_DELETABLE";
    VaultErrorCodes["blockNotValid"] = "VAULT_BLOCK_NOT_VALID";
    VaultErrorCodes["walletRequired"] = "VAULT_WALLET_REQUIRED";
    VaultErrorCodes["walletNotFound"] = "VAULT_WALLET_NOT_FOUND";
    VaultErrorCodes["integrationError"] = "VAULT_INTEGRATION_ERROR";
    VaultErrorCodes["rewardProgramNotFound"] = "VAULT_REWARD_PROGRAM_NOT_FOUND";
    VaultErrorCodes["paretoDollarWalletNotFound"] = "VAULT_PARETO_DOLLAR_WALLET_NOT_FOUND";
})(VaultErrorCodes || (VaultErrorCodes = {}));
function sVaultIntegrationsQuery() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('provider', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultIntegrationProvider())).prop('type', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultIntegrationType())).prop('tag', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultIntegrationTag())).prop('blockNumber', _fluentjsonschema.default.number());
}
function sVaultsPerformancesQuery() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('status', sVaultStatus()).description('Status of the vault that must match.').prop('visibility', sVaultVisibility()).description('Visibility of the vault that must match.').prop('symbol', _fluentjsonschema.default.string()).description('Symbol of the vault that must match.').prop('chainId', _fluentjsonschema.default.array().minItems(1).maxItems(200).items((0, _core.sStringId)())).description('ChainID of the vault that must match.').prop('contractType', sVaultContractType()).description('Contract type of the vault that must match.').extend((0, _core.sPageSearchQuery)());
}
function sVaultPositionQuery() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('walletId', (0, _core.sStringId)()).description('Wallet Identifier').prop('walletAddress', (0, _core.sBCAddress)()).description('Wallet address').prop('block:gte', _fluentjsonschema.default.number()).description('Start block').prop('block:lte', _fluentjsonschema.default.number()).description('End Block').prop('timestamp:gte', _fluentjsonschema.default.number()).description('Start timestamp').prop('timestamp:lte', _fluentjsonschema.default.number()).description('End timestamp');
}
const VAULT_FIELDS = [
    '_id',
    'tokenId',
    'chainId',
    'typeId',
    'categoryId',
    'operatorIds',
    'name',
    'caption',
    'kyc',
    'address',
    'symbol',
    'protocol',
    'contractType',
    'abi',
    'description',
    'visibility',
    'status',
    'feePercentage',
    'harvestTokenIds',
    'rewardPrograms',
    'rewardEmissions',
    'cdo',
    'campaigns',
    'documents',
    'cdoEpoch',
    'rwa',
    'strategy',
    'pools',
    'siblings',
    'createdAt',
    'createdBy',
    'updatedAt',
    'updatedBy'
];
const VAULT_SORT_FIELDS = [
    'name'
];
function sVaultsSearchQuery() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('name', _fluentjsonschema.default.string()).description('Name of the vault that must match.').prop('name:ct', _fluentjsonschema.default.string()).description('Name of the vault that must be contained.').prop('address', (0, _core.sBCAddress)()).description('Address of the vault that must match.').prop('status', sVaultStatus()).description('Status of the vault that must match.').prop('visibility', _fluentjsonschema.default.array().minItems(1).maxItems(3).items(sVaultVisibility())).description('Visibility of the vault that must match.').prop('visibility:ne', _fluentjsonschema.default.array().minItems(1).maxItems(3).items(sVaultVisibility())).description('Visibility of the vault that must be different.').prop('cdoEpoch.borrower.address', _fluentjsonschema.default.array().minItems(1).maxItems(200).items((0, _core.sBCAddress)())).description(`Borrower's address of the vault that must match.`).prop('cdoEpoch.borrower.operatorId', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(_fluentjsonschema.default.string())).description(`Borrower's operator ID of the vault that must match.`).prop('cdoEpoch.manager.address', _fluentjsonschema.default.array().minItems(1).maxItems(200).items((0, _core.sBCAddress)())).description(`Manager's address of the vault that must match.`).prop('cdoEpoch.manager.operatorId', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(_fluentjsonschema.default.string())).description(`Manager's operator ID of the vault that must match.`).prop('cdo', _fluentjsonschema.default.string()).description('CDO of the vault that must match.').prop('symbol', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(_fluentjsonschema.default.string())).description('Symbol of the vault that must match.').prop('chainId', _fluentjsonschema.default.array().minItems(1).maxItems(200).items((0, _core.sStringId)())).description('ChainID of the vault that must match.').prop('contractType', _fluentjsonschema.default.array().minItems(1).maxItems(200).items(sVaultContractType())).description('Contract type of the vault that must match.').extend((0, _core.sPageSearchQuery)(VAULT_FIELDS, VAULT_SORT_FIELDS));
}
var VaultsRoutingKey;
(function(VaultsRoutingKey) {
    // Pareto events
    VaultsRoutingKey["paretoEvents"] = "pareto.vault.*";
    VaultsRoutingKey["paretoSync"] = "pareto.vault.sync";
    VaultsRoutingKey["paretoWallets"] = "pareto.vault.wallets";
    VaultsRoutingKey["paretoCreated"] = "pareto.vault.created";
    VaultsRoutingKey["paretoUpdate"] = "pareto.vault.update";
    VaultsRoutingKey["paretoTransfered"] = "pareto.vault.transfered";
    VaultsRoutingKey["paretoPerformed"] = "pareto.vault.performed";
    // BlockChain events
    VaultsRoutingKey["bcEvents"] = "bc.vault.*";
    VaultsRoutingKey["bcTransfer"] = "bc.vault.transfer";
})(VaultsRoutingKey || (VaultsRoutingKey = {}));
function sVaultSyncEventFilters() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('poolsRefs', _fluentjsonschema.default.array().items(_fluentjsonschema.default.string())).prop('events', _fluentjsonschema.default.array().items(_fluentjsonschema.default.string())).prop('contracts', _fluentjsonschema.default.array().items((0, _core.sBCAddress)())).prop('transactionTypes', _fluentjsonschema.default.array().items((0, _transactions.sTransactionType)()));
}
function sVaultContractAPRs() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('BASE', (0, _core.sBigInt)());
}
function sVaultContractData() {
    return _fluentjsonschema.default.object().additionalProperties(false).description('The vault contract blockchain data').prop('previous', sContractData()).extend(sContractData());
}
function sContractData() {
    return _fluentjsonschema.default.object().additionalProperties(false).description('The vault contract blockchain data').prop('APRs', sVaultContractAPRs()).prop('totalSupply', (0, _core.sBigInt)()).prop('strategy', (0, _vaultblocks.sVaultBlockStrategy)()).prop('price', (0, _core.sBigInt)()).prop('allocations', _fluentjsonschema.default.array().items((0, _core.sBigInt)())).prop('availableTokens', _fluentjsonschema.default.array().items((0, _core.sBCAddress)())).prop('pools', _fluentjsonschema.default.array().items(sVaultContractPoolData())).prop('cdo', (0, _vaultblocks.sVaultBlockCdo)()).prop('tokens', _fluentjsonschema.default.array().items(sVaultContractTokenData())).prop('cdoEpoch', (0, _vaultblocks.sVaultBlockCdoEpoch)()).prop('paretoDollar', (0, _vaultblocks.sVaultBlockParetoDollar)()).prop('wallets', _fluentjsonschema.default.array().items(sVaultWalletData())).prop('integrations', sVaultIntegrationsData());
}
function sVaultContractTokenData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('price', (0, _core.sBigInt)()).required().prop('address', (0, _core.sBCAddress)()).required();
}
function sVaultWalletData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('address', (0, _core.sBCAddress)()).required().prop('balance', (0, _core.sBigInt)()).required().prop('cdoEpoch', sVaultWalletCdoEpochData()).prop('paretoDollar', sVaultWalletParetoDollarData()).prop('pools', _fluentjsonschema.default.array().items(sVaultWalletPoolData()));
}
function sVaultWalletPoolData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('lpBalance', (0, _core.sBigInt)()).required().prop('address', (0, _core.sBCAddress)()).required().prop('protocol', (0, _web3client.sWeb3Protocol)()).required().prop('tokens', _fluentjsonschema.default.array().items(sVaultWalletPoolTokenData())).prop('operatorId', (0, _core.sStringId)()).prop('balance', (0, _core.sBigInt)());
}
function sVaultWalletPoolTokenData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tokenId', (0, _core.sStringId)()).prop('tokenAddress', (0, _core.sBCAddress)()).required().prop('balance', (0, _core.sBigInt)()).required().prop('balanceScaled', (0, _core.sBigInt)());
}
function sVaultWalletParetoDollarData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('stakedBalance', (0, _core.sBigInt)()).description('Pareto Dollar staked amount').prop('uspBalance', (0, _core.sBigInt)()).description('Pareto Dollar token amount');
}
function sVaultWalletCdoEpochData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('pendingDepositAmount', (0, _core.sBigInt)()).description('Deposit queue pending amount').prop('pendingWithdrawAmount', (0, _core.sBigInt)()).description('Withdraw queue pending amount').prop('withdrawsRequests', (0, _core.sBigInt)()).description('Standard withdraw requests').prop('instantWithdrawsRequests', (0, _core.sBigInt)()).description('Instant withdraw requests').prop('writeOff', sVaultWalletCdoEpochWriteOffData()).description('Write off data');
}
function sVaultWalletCdoEpochWriteOffData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('tranches', (0, _core.sBigInt)()).required().prop('underlyings', (0, _core.sBigInt)()).required();
}
function sVaultContractPoolData() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('protocol', (0, _web3client.sWeb3Protocol)()).required().prop('address', (0, _core.sBCAddress)()).required().prop('supplyRate', (0, _core.sBigInt)()).prop('borrowRate', (0, _core.sBigInt)()).prop('underlyingBalance', (0, _core.sBigInt)()).prop('exchangeRate', (0, _core.sBigInt)()).prop('utilizationRate', (0, _core.sBigInt)()).prop('availableToBorrow', (0, _core.sBigInt)()).prop('availableToWithdraw', (0, _core.sBigInt)()).prop('totalSupply', (0, _core.sBigInt)()).prop('totalBorrow', (0, _core.sBigInt)()).prop('APR', (0, _core.sBigInt)()).prop('tokensInfo', _fluentjsonschema.default.array().items(sVaultContractPoolTokenInfo()));
}
function sVaultContractPoolTokenInfo() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('address', (0, _core.sBCAddress)()).required().prop('balance', (0, _core.sBigInt)()).required().prop('balanceScaled', (0, _core.sBigInt)()).required().prop('tokenData', (0, _web3client.sERC20Token)());
}
function sVaultKyc() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('policyId', _fluentjsonschema.default.number()).required().prop('isActive', _fluentjsonschema.default.boolean()).required().prop('isRequired', _fluentjsonschema.default.boolean()).prop('link', _fluentjsonschema.default.string()).prop('hideSensitiveData', _fluentjsonschema.default.boolean());
}
function sVaultKeyInfo() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('label', (0, _core.sLocales)()).required().prop('value', (0, _core.sLocales)()).required().prop('link', _fluentjsonschema.default.string());
}
function sVaultMinDeposit() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('amount', (0, _core.sBigInt)()).required().prop('isActive', _fluentjsonschema.default.boolean()).required().prop('enableTest', _fluentjsonschema.default.boolean());
}
function sVaultMaxCap() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('amount', (0, _core.sBigInt)()).required().prop('isActive', _fluentjsonschema.default.boolean()).required();
}
function sVaultDocument() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('name', _fluentjsonschema.default.string()).required().prop('type', (0, _core.sMimeType)()).required().prop('createdAt', (0, _core.sDateString)()).required().prop('url', _fluentjsonschema.default.string().format('url')).required();
}
function sVaultSignatureEntity() {
    return _fluentjsonschema.default.string().enum([
        'ALL',
        'LENDER',
        'MANAGER'
    ]);
}
function sVaultSignature() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('_id', (0, _core.sStringId)()).required().prop('entity', sVaultSignatureEntity()).required();
}
var VaultRoutes;
(function(VaultRoutes) {
    VaultRoutes[VaultRoutes["v1Create"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}`] = "v1Create";
    VaultRoutes[VaultRoutes["v1Delete"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId`] = "v1Delete";
    VaultRoutes[VaultRoutes["v1Read"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId`] = "v1Read";
    VaultRoutes[VaultRoutes["v1Update"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId`] = "v1Update";
    VaultRoutes[VaultRoutes["v1Search"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}`] = "v1Search";
    VaultRoutes[VaultRoutes["v1Sync"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/sync`] = "v1Sync";
    VaultRoutes[VaultRoutes["v1Block"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/block`] = "v1Block";
    VaultRoutes[VaultRoutes["v1Perform"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/perform`] = "v1Perform";
    VaultRoutes[VaultRoutes["v1Cure"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/cure`] = "v1Cure";
    VaultRoutes[VaultRoutes["v1Performances"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/performances`] = "v1Performances";
    VaultRoutes[VaultRoutes["v1Position"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/position`] = "v1Position";
    VaultRoutes[VaultRoutes["v1SyncBlock"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/sync-block`] = "v1SyncBlock";
    VaultRoutes[VaultRoutes["v1Integrations"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/integrations`] = "v1Integrations";
    VaultRoutes[VaultRoutes["v1PerformBlocks"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/perform-blocks`] = "v1PerformBlocks";
    VaultRoutes[VaultRoutes["v1PerformWallets"] = `v1/${_vaultconst.VAULTS_ROUTES_KEY}/:vaultId/perform-wallets`] = "v1PerformWallets";
})(VaultRoutes || (VaultRoutes = {}));
function sWalletEpochStats() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('walletBlock', (0, _walletblocks.sWalletBlock)()).required().prop('startDate', (0, _core.sDateString)()).prop('endDate', (0, _core.sDateString)()).prop('startBalance', (0, _core.sBigInt)()).required().prop('endBalance', (0, _core.sBigInt)()).required().prop('earnings', sWalletEpochStatsEarnings()).required().prop('earningsPercentage', sWalletEpochStatsEarningsPercentage()).required();
}
function sWalletEpochStatsEarningsPercentage() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('GROSS', _fluentjsonschema.default.number()).required().prop('NET', _fluentjsonschema.default.number()).required().prop('FEE', _fluentjsonschema.default.number()).required();
}
function sWalletEpochStatsEarnings() {
    return _fluentjsonschema.default.object().additionalProperties(false).prop('GROSS', (0, _core.sBigInt)()).required().prop('NET', (0, _core.sBigInt)()).required().prop('FEE', (0, _core.sBigInt)()).required();
}
function sVaultTemplateType() {
    return _fluentjsonschema.default.string().enum([
        'LOAN_NOTICE',
        'CYCLE_REPORT'
    ]);
}

//# sourceMappingURL=vault.model.js.map