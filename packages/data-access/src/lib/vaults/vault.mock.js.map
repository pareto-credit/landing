{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/vaults/vault.mock.ts"],"sourcesContent":["import { AbiContract, LocalesMock } from '../core'\nimport { WEB3_DEFAULT_ADDR, Web3BaseContractMock } from '../web3-client'\nimport {\n  Vault,\n  VaultCampaign,\n  VaultCdoEpoch,\n  VaultOperator,\n  VaultIntegration,\n  VaultParetoDollar,\n  VaultParetoDollarCollateral,\n  VaultParetoDollarStaking,\n  VaultRewardAddress,\n  VaultRewardEmission,\n  VaultRewardProgram,\n  VaultRewardProgramFrequency,\n  VaultMaxCap,\n} from './vault.model'\n\n/**\n * Vault Mock\n */\nexport function VaultMock(options?: Partial<Vault>): Vault {\n  const now = new Date().toISOString()\n\n  return {\n    _id: options?._id || 'VAULT_ID',\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    chainId: options?.chainId || 'CHAIN_ID',\n    typeId: options?.typeId,\n    categoryId: options?.categoryId,\n\n    description: LocalesMock(options?.description),\n\n    name: options?.name || 'VAULT_NAME',\n    address: options?.address || 'VAULT_ADDRESS',\n    symbol: options?.symbol || 'VAULT_SYMBOL',\n    protocol: options?.protocol || 'Idle',\n    contractType: options?.contractType || 'BestYield',\n    abi: VaultAbiParamMock(options?.abi),\n    abiCode: options?.abiCode,\n\n    visibility: options?.visibility || 'HIDDEN',\n    status: options?.status || 'DISABLED',\n\n    feePercentage: options?.feePercentage || 0,\n    harvestTokenIds: options?.harvestTokenIds?.map((id) => id || 'TOKEN_ID'),\n\n    cdoEpoch: VaultCdoEpochMock(options?.cdoEpoch),\n\n    strategy: Web3BaseContractMock(options?.strategy),\n\n    rewardPrograms: options?.rewardPrograms?.map((p) =>\n      VaultRewardProgramMock(p)\n    ),\n    rewardEmissions: options?.rewardEmissions?.map((e) =>\n      VaultRewardEmissionMock(e)\n    ),\n    paretoDollar: VaultParetoDollarMock(options?.paretoDollar),\n\n    campaigns: options?.campaigns?.map((c) => VaultCampaignMock(c)),\n\n    integrations: options?.integrations?.map((i) => VaultIntegrationMock(i)),\n\n    maxCap: options?.maxCap && VaultMaxCapMock(options?.maxCap),\n\n    createdAt: now,\n    createdBy: options?.createdBy || 'USER_ID',\n    updatedAt: now,\n    updatedBy: options?.updatedBy || 'USER_ID',\n  }\n}\n\nexport function VaultIntegrationMock(\n  options: VaultIntegration\n): VaultIntegration {\n  return {\n    provider: options.provider,\n    type: options.type,\n  }\n}\n\nexport function VaultCdoEpochMock(\n  options?: Partial<VaultCdoEpoch>\n): VaultCdoEpoch {\n  return {\n    abi: VaultAbiParamMock(options?.abi),\n    abiCode: options?.abiCode,\n    address: options?.address || WEB3_DEFAULT_ADDR,\n    manager: VaultOperatorMock(options?.manager),\n    borrower: VaultOperatorMock(options?.borrower),\n    waitingPeriod: options?.waitingPeriod,\n    depositQueue:\n      options?.depositQueue && Web3BaseContractMock(options?.depositQueue),\n    withdrawQueue:\n      options?.withdrawQueue && Web3BaseContractMock(options?.withdrawQueue),\n    mode: options?.mode || 'CREDIT',\n  }\n}\n\nexport function VaultParetoDollarStakingMock(\n  options?: Partial<VaultParetoDollarStaking>\n): VaultParetoDollarStaking {\n  return {\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    ...Web3BaseContractMock(options),\n  }\n}\n\nexport function VaultParetoDollarMock(\n  options?: Partial<VaultParetoDollar>\n): VaultParetoDollar {\n  return {\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    managers: options?.managers || [],\n    queue: Web3BaseContractMock(options?.queue),\n    staking: VaultParetoDollarStakingMock(options?.staking),\n    collaterals: options?.collaterals?.map((c) =>\n      VaultParetoDollarCollateralMock(c)\n    ),\n  }\n}\n\nexport function VaultParetoDollarCollateralMock(\n  options?: Partial<VaultParetoDollarCollateral>\n): VaultParetoDollarCollateral {\n  return {\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    tokenAddress: options?.tokenAddress || WEB3_DEFAULT_ADDR,\n  }\n}\n\nexport function VaultOperatorMock(\n  options?: Partial<VaultOperator>\n): VaultOperator {\n  return {\n    address: options?.address || '',\n    operatorId: options?.operatorId,\n  }\n}\n\nexport function VaultAbiParamMock(options?: AbiContract): AbiContract {\n  return options || []\n}\n\nexport function VaultRewardProgramMock(\n  options?: Partial<VaultRewardProgram>\n): VaultRewardProgram {\n  return {\n    isActive: options?.isActive ?? true,\n    tokenId: options?.tokenId || 'ffffffffffffffffffffffff',\n    distributionType: options?.distributionType || 'AMOUNT',\n    distributionFrequency: VaultRewardDistributionFrequency(\n      options?.distributionFrequency\n    ),\n    distributionValue: options?.distributionValue || '0',\n    startBlock: options?.startBlock,\n    endBlock: options?.endBlock,\n    blocksAmount: options?.blocksAmount,\n    excludedAddresses: options?.excludedAddresses?.map((a) =>\n      VaultRewardAddressMock(a)\n    ),\n  }\n}\n\nexport function VaultRewardDistributionFrequency(\n  options?: Partial<VaultRewardProgramFrequency>\n): VaultRewardProgramFrequency {\n  return {\n    value: options?.value || 0,\n    unit: options?.unit || 'M',\n  }\n}\n\nexport function VaultRewardAddressMock(\n  options?: Partial<VaultRewardAddress>\n): VaultRewardAddress {\n  return {\n    address: options?.address || WEB3_DEFAULT_ADDR,\n    toRedistribute: options?.toRedistribute || false,\n  }\n}\n\nexport function VaultRewardEmissionMock(\n  options?: Partial<VaultRewardEmission>\n): VaultRewardEmission {\n  return {\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    emissionRate: options?.emissionRate || '0',\n    frequency: options?.frequency || 'BLOCK',\n    startBlock: options?.startBlock,\n    endBlock: options?.endBlock,\n  }\n}\n\nexport function VaultCampaignMock(\n  options?: Partial<VaultCampaign>\n): VaultCampaign {\n  return {\n    _id: options?._id || 'CAMPAIGN_ID',\n    rules: options?.rules,\n    isActive: options?.isActive || true,\n  }\n}\n\nexport function VaultMaxCapMock(options?: Partial<VaultMaxCap>): VaultMaxCap {\n  return {\n    isActive: !!options?.isActive,\n    amount: options?.amount || '1000000',\n  }\n}\n"],"names":["VaultAbiParamMock","VaultCampaignMock","VaultCdoEpochMock","VaultIntegrationMock","VaultMaxCapMock","VaultMock","VaultOperatorMock","VaultParetoDollarCollateralMock","VaultParetoDollarMock","VaultParetoDollarStakingMock","VaultRewardAddressMock","VaultRewardDistributionFrequency","VaultRewardEmissionMock","VaultRewardProgramMock","options","now","Date","toISOString","_id","tokenId","chainId","typeId","categoryId","description","LocalesMock","name","address","symbol","protocol","contractType","abi","abiCode","visibility","status","feePercentage","harvestTokenIds","map","id","cdoEpoch","strategy","Web3BaseContractMock","rewardPrograms","p","rewardEmissions","e","paretoDollar","campaigns","c","integrations","i","maxCap","createdAt","createdBy","updatedAt","updatedBy","provider","type","WEB3_DEFAULT_ADDR","manager","borrower","waitingPeriod","depositQueue","withdrawQueue","mode","managers","queue","staking","collaterals","tokenAddress","operatorId","isActive","distributionType","distributionFrequency","distributionValue","startBlock","endBlock","blocksAmount","excludedAddresses","a","value","unit","toRedistribute","emissionRate","frequency","rules","amount"],"mappings":"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"}