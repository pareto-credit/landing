{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/vaults/vault.mock.ts"],"sourcesContent":["import { AbiContract, DeepPartial, LocalesMock } from '../core'\nimport { WEB3_DEFAULT_ADDR, Web3BaseContractMock } from '../web3-client'\nimport {\n  Vault,\n  VaultCampaign,\n  VaultCdoEpoch,\n  VaultCdoEpochOperator,\n  VaultIntegration,\n  VaultRewardAddress,\n  VaultRewardEmission,\n  VaultRewardProgram,\n  VaultRewardProgramFrequency,\n} from './vault.model'\n\n/**\n * Vault Mock\n */\nexport function VaultMock(options?: Partial<Vault>): Vault {\n  const now = new Date().toISOString()\n\n  return {\n    _id: options?._id || 'VAULT_ID',\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    chainId: options?.chainId || 'CHAIN_ID',\n    typeId: options?.typeId,\n    categoryId: options?.categoryId,\n\n    description: LocalesMock(options?.description),\n\n    name: options?.name || 'VAULT_NAME',\n    address: options?.address || 'VAULT_ADDRESS',\n    symbol: options?.symbol || 'VAULT_SYMBOL',\n    protocol: options?.protocol || 'Idle',\n    contractType: options?.contractType || 'BestYield',\n    abi: VaultAbiParamMock(options?.abi),\n\n    visibility: options?.visibility || 'HIDDEN',\n    status: options?.status || 'DISABLED',\n\n    feePercentage: options?.feePercentage || 0,\n    harvestTokenIds: options?.harvestTokenIds?.map((id) => id || 'TOKEN_ID'),\n\n    cdoEpoch: VaultCdoEpochMock(options?.cdoEpoch),\n\n    strategy: Web3BaseContractMock(options?.strategy),\n\n    rewardPrograms: options?.rewardPrograms?.map((p) =>\n      VaultRewardProgramMock(p)\n    ),\n    rewardEmissions: options?.rewardEmissions?.map((e) =>\n      VaultRewardEmissionMock(e)\n    ),\n\n    campaigns: options?.campaigns?.map((c) => VaultCampaignMock(c)),\n\n    integrations: options?.integrations?.map((i) => VaultIntegrationMock(i)),\n\n    createdAt: now,\n    createdBy: options?.createdBy || 'USER_ID',\n    updatedAt: now,\n    updatedBy: options?.updatedBy || 'USER_ID',\n  }\n}\n\nexport function VaultIntegrationMock(\n  options: VaultIntegration\n): VaultIntegration {\n  return {\n    provider: options.provider,\n    type: options.type,\n  }\n}\n\nexport function VaultCdoEpochMock(\n  options?: Partial<VaultCdoEpoch>\n): VaultCdoEpoch {\n  return {\n    abi: VaultAbiParamMock(options?.abi),\n    address: options?.address || WEB3_DEFAULT_ADDR,\n    manager: VaultCdoEpochOperatorMock(options?.manager),\n    borrower: VaultCdoEpochOperatorMock(options?.borrower),\n    waitingPeriod: options?.waitingPeriod,\n    depositQueue:\n      options?.depositQueue && Web3BaseContractMock(options?.depositQueue),\n    withdrawQueue:\n      options?.withdrawQueue && Web3BaseContractMock(options?.withdrawQueue),\n    mode: options?.mode || 'CREDIT',\n  }\n}\n\nexport function VaultCdoEpochOperatorMock(\n  options?: Partial<VaultCdoEpochOperator>\n): VaultCdoEpochOperator {\n  return {\n    address: options?.address || '',\n    operatorId: options?.operatorId,\n  }\n}\n\nexport function VaultAbiParamMock(options?: AbiContract): AbiContract {\n  return options || []\n}\n\nexport function VaultRewardProgramMock(\n  options?: Partial<VaultRewardProgram>\n): VaultRewardProgram {\n  return {\n    isActive: options?.isActive ?? true,\n    tokenId: options?.tokenId || 'ffffffffffffffffffffffff',\n    distributionType: options?.distributionType || 'AMOUNT',\n    distributionFrequency: VaultRewardDistributionFrequency(\n      options?.distributionFrequency\n    ),\n    distributionValue: options?.distributionValue || '0',\n    startBlock: options?.startBlock,\n    endBlock: options?.endBlock,\n    blocksAmount: options?.blocksAmount,\n    excludedAddresses: options?.excludedAddresses?.map((a) =>\n      VaultRewardAddressMock(a)\n    ),\n  }\n}\n\nexport function VaultRewardDistributionFrequency(\n  options?: Partial<VaultRewardProgramFrequency>\n): VaultRewardProgramFrequency {\n  return {\n    value: options?.value || 0,\n    unit: options?.unit || 'M',\n  }\n}\n\nexport function VaultRewardAddressMock(\n  options?: Partial<VaultRewardAddress>\n): VaultRewardAddress {\n  return {\n    address: options?.address || WEB3_DEFAULT_ADDR,\n    toRedistribute: options?.toRedistribute || false,\n  }\n}\n\nexport function VaultRewardEmissionMock(\n  options?: Partial<VaultRewardEmission>\n): VaultRewardEmission {\n  return {\n    tokenId: options?.tokenId || 'TOKEN_ID',\n    emissionRate: options?.emissionRate || '0',\n    frequency: options?.frequency || 'BLOCK',\n    startBlock: options?.startBlock,\n    endBlock: options?.endBlock,\n  }\n}\n\nexport function VaultCampaignMock(\n  options?: Partial<VaultCampaign>\n): VaultCampaign {\n  return {\n    _id: options?._id || 'CAMPAIGN_ID',\n    rules: options?.rules,\n    isActive: options?.isActive || true,\n  }\n}\n"],"names":["LocalesMock","WEB3_DEFAULT_ADDR","Web3BaseContractMock","VaultMock","options","now","Date","toISOString","_id","tokenId","chainId","typeId","categoryId","description","name","address","symbol","protocol","contractType","abi","VaultAbiParamMock","visibility","status","feePercentage","harvestTokenIds","map","id","cdoEpoch","VaultCdoEpochMock","strategy","rewardPrograms","p","VaultRewardProgramMock","rewardEmissions","e","VaultRewardEmissionMock","campaigns","c","VaultCampaignMock","integrations","i","VaultIntegrationMock","createdAt","createdBy","updatedAt","updatedBy","provider","type","manager","VaultCdoEpochOperatorMock","borrower","waitingPeriod","depositQueue","withdrawQueue","mode","operatorId","isActive","distributionType","distributionFrequency","VaultRewardDistributionFrequency","distributionValue","startBlock","endBlock","blocksAmount","excludedAddresses","a","VaultRewardAddressMock","value","unit","toRedistribute","emissionRate","frequency","rules"],"mappings":"AAAA,SAAmCA,WAAW,QAAQ,UAAS;AAC/D,SAASC,iBAAiB,EAAEC,oBAAoB,QAAQ,iBAAgB;AAaxE;;CAEC,GACD,OAAO,SAASC,UAAUC,OAAwB;QAuB7BA,0BAMDA,yBAGCA,0BAINA,oBAEGA;IArChB,MAAMC,MAAM,IAAIC,OAAOC,WAAW;IAElC,OAAO;QACLC,KAAKJ,CAAAA,2BAAAA,QAASI,GAAG,KAAI;QACrBC,SAASL,CAAAA,2BAAAA,QAASK,OAAO,KAAI;QAC7BC,SAASN,CAAAA,2BAAAA,QAASM,OAAO,KAAI;QAC7BC,MAAM,EAAEP,2BAAAA,QAASO,MAAM;QACvBC,UAAU,EAAER,2BAAAA,QAASQ,UAAU;QAE/BC,aAAab,YAAYI,2BAAAA,QAASS,WAAW;QAE7CC,MAAMV,CAAAA,2BAAAA,QAASU,IAAI,KAAI;QACvBC,SAASX,CAAAA,2BAAAA,QAASW,OAAO,KAAI;QAC7BC,QAAQZ,CAAAA,2BAAAA,QAASY,MAAM,KAAI;QAC3BC,UAAUb,CAAAA,2BAAAA,QAASa,QAAQ,KAAI;QAC/BC,cAAcd,CAAAA,2BAAAA,QAASc,YAAY,KAAI;QACvCC,KAAKC,kBAAkBhB,2BAAAA,QAASe,GAAG;QAEnCE,YAAYjB,CAAAA,2BAAAA,QAASiB,UAAU,KAAI;QACnCC,QAAQlB,CAAAA,2BAAAA,QAASkB,MAAM,KAAI;QAE3BC,eAAenB,CAAAA,2BAAAA,QAASmB,aAAa,KAAI;QACzCC,eAAe,EAAEpB,4BAAAA,2BAAAA,QAASoB,eAAe,qBAAxBpB,yBAA0BqB,GAAG,CAAC,CAACC,KAAOA,MAAM;QAE7DC,UAAUC,kBAAkBxB,2BAAAA,QAASuB,QAAQ;QAE7CE,UAAU3B,qBAAqBE,2BAAAA,QAASyB,QAAQ;QAEhDC,cAAc,EAAE1B,4BAAAA,0BAAAA,QAAS0B,cAAc,qBAAvB1B,wBAAyBqB,GAAG,CAAC,CAACM,IAC5CC,uBAAuBD;QAEzBE,eAAe,EAAE7B,4BAAAA,2BAAAA,QAAS6B,eAAe,qBAAxB7B,yBAA0BqB,GAAG,CAAC,CAACS,IAC9CC,wBAAwBD;QAG1BE,SAAS,EAAEhC,4BAAAA,qBAAAA,QAASgC,SAAS,qBAAlBhC,mBAAoBqB,GAAG,CAAC,CAACY,IAAMC,kBAAkBD;QAE5DE,YAAY,EAAEnC,4BAAAA,wBAAAA,QAASmC,YAAY,qBAArBnC,sBAAuBqB,GAAG,CAAC,CAACe,IAAMC,qBAAqBD;QAErEE,WAAWrC;QACXsC,WAAWvC,CAAAA,2BAAAA,QAASuC,SAAS,KAAI;QACjCC,WAAWvC;QACXwC,WAAWzC,CAAAA,2BAAAA,QAASyC,SAAS,KAAI;IACnC;AACF;AAEA,OAAO,SAASJ,qBACdrC,OAAyB;IAEzB,OAAO;QACL0C,UAAU1C,QAAQ0C,QAAQ;QAC1BC,MAAM3C,QAAQ2C,IAAI;IACpB;AACF;AAEA,OAAO,SAASnB,kBACdxB,OAAgC;IAEhC,OAAO;QACLe,KAAKC,kBAAkBhB,2BAAAA,QAASe,GAAG;QACnCJ,SAASX,CAAAA,2BAAAA,QAASW,OAAO,KAAId;QAC7B+C,SAASC,0BAA0B7C,2BAAAA,QAAS4C,OAAO;QACnDE,UAAUD,0BAA0B7C,2BAAAA,QAAS8C,QAAQ;QACrDC,aAAa,EAAE/C,2BAAAA,QAAS+C,aAAa;QACrCC,cACEhD,CAAAA,2BAAAA,QAASgD,YAAY,KAAIlD,qBAAqBE,2BAAAA,QAASgD,YAAY;QACrEC,eACEjD,CAAAA,2BAAAA,QAASiD,aAAa,KAAInD,qBAAqBE,2BAAAA,QAASiD,aAAa;QACvEC,MAAMlD,CAAAA,2BAAAA,QAASkD,IAAI,KAAI;IACzB;AACF;AAEA,OAAO,SAASL,0BACd7C,OAAwC;IAExC,OAAO;QACLW,SAASX,CAAAA,2BAAAA,QAASW,OAAO,KAAI;QAC7BwC,UAAU,EAAEnD,2BAAAA,QAASmD,UAAU;IACjC;AACF;AAEA,OAAO,SAASnC,kBAAkBhB,OAAqB;IACrD,OAAOA,WAAW,EAAE;AACtB;AAEA,OAAO,SAAS4B,uBACd5B,OAAqC;QAahBA;QAVTA;IADZ,OAAO;QACLoD,UAAUpD,CAAAA,oBAAAA,2BAAAA,QAASoD,QAAQ,YAAjBpD,oBAAqB;QAC/BK,SAASL,CAAAA,2BAAAA,QAASK,OAAO,KAAI;QAC7BgD,kBAAkBrD,CAAAA,2BAAAA,QAASqD,gBAAgB,KAAI;QAC/CC,uBAAuBC,iCACrBvD,2BAAAA,QAASsD,qBAAqB;QAEhCE,mBAAmBxD,CAAAA,2BAAAA,QAASwD,iBAAiB,KAAI;QACjDC,UAAU,EAAEzD,2BAAAA,QAASyD,UAAU;QAC/BC,QAAQ,EAAE1D,2BAAAA,QAAS0D,QAAQ;QAC3BC,YAAY,EAAE3D,2BAAAA,QAAS2D,YAAY;QACnCC,iBAAiB,EAAE5D,4BAAAA,6BAAAA,QAAS4D,iBAAiB,qBAA1B5D,2BAA4BqB,GAAG,CAAC,CAACwC,IAClDC,uBAAuBD;IAE3B;AACF;AAEA,OAAO,SAASN,iCACdvD,OAA8C;IAE9C,OAAO;QACL+D,OAAO/D,CAAAA,2BAAAA,QAAS+D,KAAK,KAAI;QACzBC,MAAMhE,CAAAA,2BAAAA,QAASgE,IAAI,KAAI;IACzB;AACF;AAEA,OAAO,SAASF,uBACd9D,OAAqC;IAErC,OAAO;QACLW,SAASX,CAAAA,2BAAAA,QAASW,OAAO,KAAId;QAC7BoE,gBAAgBjE,CAAAA,2BAAAA,QAASiE,cAAc,KAAI;IAC7C;AACF;AAEA,OAAO,SAASlC,wBACd/B,OAAsC;IAEtC,OAAO;QACLK,SAASL,CAAAA,2BAAAA,QAASK,OAAO,KAAI;QAC7B6D,cAAclE,CAAAA,2BAAAA,QAASkE,YAAY,KAAI;QACvCC,WAAWnE,CAAAA,2BAAAA,QAASmE,SAAS,KAAI;QACjCV,UAAU,EAAEzD,2BAAAA,QAASyD,UAAU;QAC/BC,QAAQ,EAAE1D,2BAAAA,QAAS0D,QAAQ;IAC7B;AACF;AAEA,OAAO,SAASxB,kBACdlC,OAAgC;IAEhC,OAAO;QACLI,KAAKJ,CAAAA,2BAAAA,QAASI,GAAG,KAAI;QACrBgE,KAAK,EAAEpE,2BAAAA,QAASoE,KAAK;QACrBhB,UAAUpD,CAAAA,2BAAAA,QAASoD,QAAQ,KAAI;IACjC;AACF"}