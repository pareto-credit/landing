{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/vault-categories/vault-category.model.ts"],"sourcesContent":["import S from 'fluent-json-schema'\nimport {\n  ClientEntity,\n  Locales,\n  Page,\n  PageSearchQuery,\n  sClientEntity,\n  sLocales,\n  sPageSearchQuery,\n} from '../core'\nimport { VAULT_CATEGORIES_ROUTES_KEY } from './vault-category.const'\n\n/**\n * Client Vault interace\n */\nexport interface VaultCategory extends VaultCategoryData, ClientEntity {}\n\nexport function sVaultCategory(isPartial?: boolean) {\n  return S.object()\n    .id('#vaultCategory')\n    .additionalProperties(false)\n    .extend(sClientEntity(isPartial))\n    .extend(sVaultCategoryData(isPartial))\n}\n\nexport interface VaultCategoryData {\n  code: string\n  name: Locales<string>\n  description?: Locales<string>\n}\n\nexport function sVaultCategoryData(isPartial?: boolean) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.string())\n    .prop('name', sLocales())\n    .prop('description', sLocales())\n    .required(isPartial ? [] : ['code', 'name'])\n}\n\nexport enum VaultCategoryErrorCodes {\n  collision = 'VAULT_CATEGORY_COLLISION',\n  notFound = 'VAULT_CATEGORY_NOT_FOUND',\n  notDeletable = 'VAULT_CATEGORY_NOT_DELETABLE',\n  alreadyExists = 'VAULT_CATEGORY_ALREADY_EXISTS',\n}\n\nexport type VaultCategoryFields =\n  | '_id'\n  | 'code'\n  | 'name'\n  | 'description'\n  | 'createdAt'\n  | 'createdBy'\n  | 'updatedAt'\n  | 'updatedBy'\n\nexport const VAULT_CATEGORY_FIELDS = [\n  '_id',\n  'code',\n  'name',\n  'description',\n  'createdAt',\n  'createdBy',\n  'updatedAt',\n  'updatedBy',\n]\n\nexport const VAULT_CATEGORY_SORT_FIELDS = ['_id', 'code']\n\nexport interface VaultCategoriesSearchQuery\n  extends PageSearchQuery<'code', VaultCategoryFields> {\n  code?: string\n  'code:ct'?: string\n}\n\nexport function sVaultCategoriesSearchSchema() {\n  return S.object()\n    .additionalProperties(false)\n    .description('List of vault type IDs.')\n    .prop('code', S.string())\n    .description('Code of the vault type that must match.')\n    .prop('code:ct', S.string())\n    .description('Code of the vault type that must be contained.')\n    .extend(sPageSearchQuery(VAULT_CATEGORY_FIELDS, VAULT_CATEGORY_SORT_FIELDS))\n}\n\nexport interface VaultCategoriesClientModel {\n  search: (params?: VaultCategoriesSearchQuery) => Promise<Page<VaultCategory>>\n  list: (params?: VaultCategoriesSearchQuery) => Promise<VaultCategory[]>\n  findOne: (\n    params?: VaultCategoriesSearchQuery\n  ) => Promise<VaultCategory | undefined>\n  create: (body: VaultCategoryData) => Promise<VaultCategory>\n}\n\nexport enum VaultCategoryRoutes {\n  v1Create = `v1/${VAULT_CATEGORIES_ROUTES_KEY}`,\n  v1Delete = `v1/${VAULT_CATEGORIES_ROUTES_KEY}/:typeId`,\n  v1Read = `v1/${VAULT_CATEGORIES_ROUTES_KEY}/:typeId`,\n  v1Update = `v1/${VAULT_CATEGORIES_ROUTES_KEY}/:typeId`,\n  v1Search = `v1/${VAULT_CATEGORIES_ROUTES_KEY}`,\n}\n"],"names":["VAULT_CATEGORY_FIELDS","VAULT_CATEGORY_SORT_FIELDS","sVaultCategoriesSearchSchema","sVaultCategory","sVaultCategoryData","isPartial","S","object","id","additionalProperties","extend","sClientEntity","prop","string","sLocales","required","VaultCategoryErrorCodes","description","sPageSearchQuery","VaultCategoryRoutes","VAULT_CATEGORIES_ROUTES_KEY"],"mappings":";;;;;;;;;;;IAyDaA,qBAAqB;eAArBA;;IAWAC,0BAA0B;eAA1BA;;;;;;;;IAQGC,4BAA4B;eAA5BA;;IA3DAC,cAAc;eAAdA;;IAcAC,kBAAkB;eAAlBA;;;;2EA/BF;sBASP;oCACqC;AAOrC,SAASD,eAAeE,SAAmB;IAChD,OAAOC,yBAAC,CAACC,MAAM,GACZC,EAAE,CAAC,kBACHC,oBAAoB,CAAC,OACrBC,MAAM,CAACC,IAAAA,mBAAa,EAACN,YACrBK,MAAM,CAACN,mBAAmBC;AAC/B;AAQO,SAASD,mBAAmBC,SAAmB;IACpD,OAAOC,yBAAC,CAACC,MAAM,GACZE,oBAAoB,CAAC,OACrBG,IAAI,CAAC,QAAQN,yBAAC,CAACO,MAAM,IACrBD,IAAI,CAAC,QAAQE,IAAAA,cAAQ,KACrBF,IAAI,CAAC,eAAeE,IAAAA,cAAQ,KAC5BC,QAAQ,CAACV,YAAY,EAAE,GAAG;QAAC;QAAQ;KAAO;AAC/C;;UAEYW;;;;;GAAAA,4BAAAA;AAiBL,MAAMhB,wBAAwB;IACnC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACD;AAEM,MAAMC,6BAA6B;IAAC;IAAO;CAAO;AAQlD,SAASC;IACd,OAAOI,yBAAC,CAACC,MAAM,GACZE,oBAAoB,CAAC,OACrBQ,WAAW,CAAC,2BACZL,IAAI,CAAC,QAAQN,yBAAC,CAACO,MAAM,IACrBI,WAAW,CAAC,2CACZL,IAAI,CAAC,WAAWN,yBAAC,CAACO,MAAM,IACxBI,WAAW,CAAC,kDACZP,MAAM,CAACQ,IAAAA,sBAAgB,EAAClB,uBAAuBC;AACpD;;UAWYkB;0DACC,CAAC,GAAG,EAAEC,+CAA2B,CAAC,CAAC;0DACnC,CAAC,GAAG,EAAEA,+CAA2B,CAAC,QAAQ,CAAC;wDAC7C,CAAC,GAAG,EAAEA,+CAA2B,CAAC,QAAQ,CAAC;0DACzC,CAAC,GAAG,EAAEA,+CAA2B,CAAC,QAAQ,CAAC;0DAC3C,CAAC,GAAG,EAAEA,+CAA2B,CAAC,CAAC;GALpCD,wBAAAA"}