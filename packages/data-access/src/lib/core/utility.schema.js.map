{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/core/utility.schema.ts"],"sourcesContent":["import S from 'fluent-json-schema'\n\n/**\n * MongoDB ObjectId schema\n */\nexport function sObjectId() {\n  return S.raw({\n    type: 'object',\n    instanceof: 'ObjectId',\n  })\n}\n\n/**\n * MongoDB Date schema schema\n */\nexport function sDate() {\n  return S.raw({\n    type: 'object',\n    instanceof: 'Date',\n  })\n}\n\n/**\n * Email format\n */\nexport function sEmail() {\n  return S.string().format('email')\n}\n\n/**\n * MongoDB ObjectId string format schema\n */\nexport function sStringId() {\n  return S.string().pattern(/^[a-f0-9]{24}$/)\n}\n\n/**\n * Percentage value\n */\nexport function sPercentage() {\n  return S.number().minimum(0).maximum(100)\n}\n\n/**\n * Date ISO String schema\n */\nexport function sDateString() {\n  return S.string().pattern(/^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{3}Z$/)\n}\n\n/**\n * BlockChain Address schema\n */\nexport function sBCAddress() {\n  return S.string().pattern(/^0x[a-fA-F0-9]{40}$/)\n}\n\n/**\n * BlockChain Hash schema\n */\nexport function sBCHash() {\n  return S.string().pattern(/^0x[a-fA-F0-9]{64}$/)\n}\n\n/**\n * BlockChain Hex schema\n */\nexport function sHexString() {\n  return S.string().pattern(/^0x[a-fA-F0-9]+$/)\n}\n\n/**\n * Block schema\n */\nexport function sBlock() {\n  return (\n    S.object()\n      .additionalProperties(false)\n      // Backward-compatible\n      .prop('number', S.number())\n      .required()\n      .prop('timestamp', S.number())\n      .required()\n  )\n}\n\n/**\n * Reward schema\n */\nexport function sReward() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('tokenId', sStringId())\n    .required()\n    .prop('amount', sBigInt())\n    .required()\n    .prop('amountUSD', sBigInt())\n    .required()\n    .prop('APR', S.number())\n    .required()\n    .prop('percentage', S.number())\n    .required()\n}\n\n/**\n * All printable ASCII chars, minus the \"DEL\" char.\n */\nexport function sPrintableASCII() {\n  return S.string().pattern(/^[\\x20-\\x7E]*$/)\n}\n\n/**\n * Password schema\n */\nexport function sPassword() {\n  return sPrintableASCII().minLength(8)\n}\n\n/**\n * BigInt schema\n */\nexport function sBigInt() {\n  return S.string() /* .format('bigint') */\n}\n\n/**\n * Locales management\n */\nexport function sLocales() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('en', S.string())\n    .required()\n}\n\n/**\n * Meta data\n */\n\nexport function sMetaContent() {\n  return S.object().additionalProperties(true)\n}\n\nexport function sMetaItem() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('title', sLocales())\n    .required()\n    .prop('description', sLocales())\n}\n\nexport function sMetaItems() {\n  return S.object().additionalProperties(true)\n}\n"],"names":["sBCAddress","sBCHash","sBigInt","sBlock","sDate","sDateString","sEmail","sHexString","sLocales","sMetaContent","sMetaItem","sMetaItems","sObjectId","sPassword","sPercentage","sPrintableASCII","sReward","sStringId","S","raw","type","instanceof","string","format","pattern","number","minimum","maximum","object","additionalProperties","prop","required","minLength"],"mappings":";;;;;;;;;;;IAqDgBA,UAAU;eAAVA;;IAOAC,OAAO;eAAPA;;IA6DAC,OAAO;eAAPA;;IA/CAC,MAAM;eAANA;;IA3DAC,KAAK;eAALA;;IA+BAC,WAAW;eAAXA;;IArBAC,MAAM;eAANA;;IA0CAC,UAAU;eAAVA;;IA6DAC,QAAQ;eAARA;;IAWAC,YAAY;eAAZA;;IAIAC,SAAS;eAATA;;IAQAC,UAAU;eAAVA;;IAlJAC,SAAS;eAATA;;IA6GAC,SAAS;eAATA;;IA3EAC,WAAW;eAAXA;;IAoEAC,eAAe;eAAfA;;IAlBAC,OAAO;eAAPA;;IAzDAC,SAAS;eAATA;;;;2EAhCF;AAKP,SAASL;IACd,OAAOM,yBAAC,CAACC,GAAG,CAAC;QACXC,MAAM;QACNC,YAAY;IACd;AACF;AAKO,SAASjB;IACd,OAAOc,yBAAC,CAACC,GAAG,CAAC;QACXC,MAAM;QACNC,YAAY;IACd;AACF;AAKO,SAASf;IACd,OAAOY,yBAAC,CAACI,MAAM,GAAGC,MAAM,CAAC;AAC3B;AAKO,SAASN;IACd,OAAOC,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASV;IACd,OAAOI,yBAAC,CAACO,MAAM,GAAGC,OAAO,CAAC,GAAGC,OAAO,CAAC;AACvC;AAKO,SAAStB;IACd,OAAOa,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASxB;IACd,OAAOkB,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASvB;IACd,OAAOiB,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASjB;IACd,OAAOW,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASrB;IACd,OACEe,yBAAC,CAACU,MAAM,GACLC,oBAAoB,CAAC,MACtB,sBAAsB;KACrBC,IAAI,CAAC,UAAUZ,yBAAC,CAACO,MAAM,IACvBM,QAAQ,GACRD,IAAI,CAAC,aAAaZ,yBAAC,CAACO,MAAM,IAC1BM,QAAQ;AAEf;AAKO,SAASf;IACd,OAAOE,yBAAC,CAACU,MAAM,GACZC,oBAAoB,CAAC,OACrBC,IAAI,CAAC,WAAWb,aAChBc,QAAQ,GACRD,IAAI,CAAC,UAAU5B,WACf6B,QAAQ,GACRD,IAAI,CAAC,aAAa5B,WAClB6B,QAAQ,GACRD,IAAI,CAAC,OAAOZ,yBAAC,CAACO,MAAM,IACpBM,QAAQ,GACRD,IAAI,CAAC,cAAcZ,yBAAC,CAACO,MAAM,IAC3BM,QAAQ;AACb;AAKO,SAAShB;IACd,OAAOG,yBAAC,CAACI,MAAM,GAAGE,OAAO,CAAC;AAC5B;AAKO,SAASX;IACd,OAAOE,kBAAkBiB,SAAS,CAAC;AACrC;AAKO,SAAS9B;IACd,OAAOgB,yBAAC,CAACI,MAAM;AAAG,qBAAqB,GACzC;AAKO,SAASd;IACd,OAAOU,yBAAC,CAACU,MAAM,GACZC,oBAAoB,CAAC,OACrBC,IAAI,CAAC,MAAMZ,yBAAC,CAACI,MAAM,IACnBS,QAAQ;AACb;AAMO,SAAStB;IACd,OAAOS,yBAAC,CAACU,MAAM,GAAGC,oBAAoB,CAAC;AACzC;AAEO,SAASnB;IACd,OAAOQ,yBAAC,CAACU,MAAM,GACZC,oBAAoB,CAAC,OACrBC,IAAI,CAAC,SAAStB,YACduB,QAAQ,GACRD,IAAI,CAAC,eAAetB;AACzB;AAEO,SAASG;IACd,OAAOO,yBAAC,CAACU,MAAM,GAAGC,oBAAoB,CAAC;AACzC"}