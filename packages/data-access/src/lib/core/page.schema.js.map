{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/core/page.schema.ts"],"sourcesContent":["import S, { JSONSchema } from 'fluent-json-schema'\nimport { sStringId } from './utility.schema'\n\nexport function sPage(schema?: JSONSchema) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('data', schema ? S.array().items(schema) : S.array())\n    .description('Paginated elements that match the search parameters.')\n    .required()\n    .prop('totalCount', S.integer().minimum(0))\n    .description('Count of total elements that match the search parameters.')\n    .required()\n}\n\nexport function sPageSearchQuery(\n  itemFields: string[] = ['_id'],\n  sortingFields: string[] = ['_id']\n) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('_id', S.array().minItems(1).maxItems(200).items(sStringId()))\n    .description('List of item IDs.')\n    .prop('limit', S.integer().minimum(1).maximum(200).default(50))\n    .description('Number of requested items.')\n    .prop('offset', S.integer().minimum(0))\n    .description('Number of skipped items.')\n    .prop('fields', S.array().items(S.string().enum(itemFields)))\n    .description('Fields to include in the response.')\n    .prop('sort', S.string().enum(sortingFields))\n    .description('The field to use to sort the items.')\n    .prop('order', sPageSorting())\n    .description('Sort order of the items.')\n}\n\nexport function sPageSorting() {\n  return S.string().enum(['asc', 'desc'])\n}\n"],"names":["sPage","sPageSearchQuery","sPageSorting","schema","S","object","additionalProperties","prop","array","items","description","required","integer","minimum","itemFields","sortingFields","minItems","maxItems","sStringId","maximum","default","string","enum"],"mappings":";;;;;;;;;;;IAGgBA,KAAK;eAALA;;IAWAC,gBAAgB;eAAhBA;;IAoBAC,YAAY;eAAZA;;;;2EAlCc;+BACJ;AAEnB,SAASF,MAAMG,MAAmB;IACvC,OAAOC,yBAAC,CAACC,MAAM,GACZC,oBAAoB,CAAC,OACrBC,IAAI,CAAC,QAAQJ,SAASC,yBAAC,CAACI,KAAK,GAAGC,KAAK,CAACN,UAAUC,yBAAC,CAACI,KAAK,IACvDE,WAAW,CAAC,wDACZC,QAAQ,GACRJ,IAAI,CAAC,cAAcH,yBAAC,CAACQ,OAAO,GAAGC,OAAO,CAAC,IACvCH,WAAW,CAAC,6DACZC,QAAQ;AACb;AAEO,SAASV,iBACda,aAAuB;IAAC;CAAM,EAC9BC,gBAA0B;IAAC;CAAM;IAEjC,OAAOX,yBAAC,CAACC,MAAM,GACZC,oBAAoB,CAAC,OACrBC,IAAI,CAAC,OAAOH,yBAAC,CAACI,KAAK,GAAGQ,QAAQ,CAAC,GAAGC,QAAQ,CAAC,KAAKR,KAAK,CAACS,IAAAA,wBAAS,MAC/DR,WAAW,CAAC,qBACZH,IAAI,CAAC,SAASH,yBAAC,CAACQ,OAAO,GAAGC,OAAO,CAAC,GAAGM,OAAO,CAAC,KAAKC,OAAO,CAAC,KAC1DV,WAAW,CAAC,8BACZH,IAAI,CAAC,UAAUH,yBAAC,CAACQ,OAAO,GAAGC,OAAO,CAAC,IACnCH,WAAW,CAAC,4BACZH,IAAI,CAAC,UAAUH,yBAAC,CAACI,KAAK,GAAGC,KAAK,CAACL,yBAAC,CAACiB,MAAM,GAAGC,IAAI,CAACR,cAC/CJ,WAAW,CAAC,sCACZH,IAAI,CAAC,QAAQH,yBAAC,CAACiB,MAAM,GAAGC,IAAI,CAACP,gBAC7BL,WAAW,CAAC,uCACZH,IAAI,CAAC,SAASL,gBACdQ,WAAW,CAAC;AACjB;AAEO,SAASR;IACd,OAAOE,yBAAC,CAACiB,MAAM,GAAGC,IAAI,CAAC;QAAC;QAAO;KAAO;AACxC"}