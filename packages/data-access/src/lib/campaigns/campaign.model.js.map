{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/campaigns/campaign.model.ts"],"sourcesContent":["import S from 'fluent-json-schema'\nimport {\n  ClientEntity,\n  Locales,\n  sClientEntity,\n  sDateString,\n  sLocales,\n  sStringId,\n  UnitTime,\n  sUnitTime,\n  PageSearchQuery,\n  Page,\n  sPageSearchQuery,\n  sBCAddress,\n  iBigInt,\n  sBigInt,\n} from '../core'\nimport {\n  CAMPAIGN_FIELDS,\n  CAMPAIGN_SORT_FIELDS,\n  CAMPAIGNS_ROUTES_KEY,\n} from './campaign.const'\n\n/**\n * Client Vault interface\n */\nexport interface Campaign extends CampaignData, ClientEntity {}\n\nexport function sCampaign(isPartial?: boolean) {\n  return S.object()\n    .id('#campaign')\n    .additionalProperties(false)\n    .extend(sClientEntity(isPartial))\n    .extend(sCampaignData(isPartial))\n}\n\nexport interface CampaignData {\n  code: string\n  name: Locales\n  description?: Locales\n  rules?: CampaignRule[]\n  referrals?: CampaignReferral[]\n  boosts?: CampaignBoost[]\n  startDate?: string\n  endDate?: string\n  link?: string\n  galxeId?: number\n  isSyncable?: boolean\n}\n\nexport function sCampaignData(isPartial?: boolean) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.string())\n    .prop('name', sLocales())\n    .prop('description', sLocales())\n    .prop('rules', S.array().items(sCampaignRule()))\n    .prop('referrals', S.array().items(sCampaignReferral()))\n    .prop('boosts', S.array().items(sCampaignBoost()))\n    .prop('startDate', sDateString())\n    .prop('endDate', sDateString())\n    .prop('link', S.string())\n    .prop('galxeId', S.number())\n    .prop('isSyncable', S.boolean())\n    .required(isPartial ? [] : ['code', 'name'])\n}\n\nexport interface CampaignRule {\n  code: string\n  // Rule info\n  name: Locales\n  description?: Locales\n\n  // Trigger rule: deposit or other kind of transaction\n  trigger: CampaignRuleTrigger\n\n  // Deposit type: for amount or timing\n  deposit: CampaignRuleDeposit\n\n  // Reward type: fixed amount or multiplier\n  reward: CampaignReward\n\n  // Distribution frequency: every day or every x time\n  frequency: CampaignRuleFrequency\n\n  // Vault IDs restriction\n  vaultIds?: string[]\n}\n\nexport function sCampaignRule() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.string())\n    .required()\n    .prop('name', sLocales())\n    .required()\n    .prop('description', sLocales())\n    .prop('trigger', sCampaignRuleTrigger())\n    .required()\n    .prop('deposit', sCampaignRuleDeposit())\n    .required()\n    .prop('reward', sCampaignReward())\n    .required()\n    .prop('frequency', sCampaignRuleFrequency())\n    .required()\n    .prop('vaultIds', S.array().items(sStringId()))\n}\n\nexport type CampaignRuleTrigger = 'DEPOSIT' | 'DEPOSIT_REQUEST'\n\nexport function sCampaignRuleTrigger() {\n  return S.string().enum(['DEPOSIT', 'DEPOSIT_REQUEST'])\n}\n\nexport interface CampaignRuleDeposit {\n  type: CampaignRuleDepositType\n  value: number\n  tokenId?: string\n}\n\nexport function sCampaignRuleDeposit() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('type', sCampaignRuleDepositType())\n    .required()\n    .prop('value', S.number())\n    .required()\n    .prop('tokenId', sStringId())\n}\n\nexport type CampaignRuleDepositType =\n  | 'BALANCE'\n  | 'BALANCE_USP'\n  | 'BALANCE_SUSP'\n  | 'AGE'\n\nexport function sCampaignRuleDepositType() {\n  return S.string().enum(['BALANCE', 'BALANCE_USP', 'BALANCE_SUSP', 'AGE'])\n}\n\nexport interface CampaignReward {\n  type: CampaignRewardType\n  value: number\n}\n\nexport function sCampaignReward() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('type', sCampaignRewardType())\n    .required()\n    .prop('value', S.number())\n    .required()\n}\n\nexport type CampaignRewardType = 'AMOUNT' | 'MULTIPLIER' | 'PERCENTAGE'\n\nexport function sCampaignRewardType() {\n  return S.string().enum(['AMOUNT', 'MULTIPLIER', 'PERCENTAGE'])\n}\n\nexport interface CampaignRuleFrequency {\n  value: number\n  unit: UnitTime\n}\n\nexport function sCampaignRuleFrequency() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('value', S.number())\n    .required()\n    .prop('unit', sUnitTime())\n    .required()\n}\n\nexport interface CampaignBoost {\n  code: string\n  name: Locales\n  description?: Locales\n  operatorId?: string\n  link?: string\n  linkLabel?: Locales\n\n  // Type and reward\n  type: CampaignBoostType\n  reward: CampaignReward\n\n  // Time restriction\n  startDate?: string\n  endDate?: string\n\n  // Vault IDs restriction\n  vaultIds?: string[]\n  tokenId?: string\n  rules?: string[]\n  pools?: string[]\n}\n\nexport function sCampaignBoost() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.string())\n    .required()\n    .prop('name', sLocales())\n    .required()\n    .prop('type', sCampaignBoostType())\n    .required()\n    .prop('reward', sCampaignReward())\n    .required()\n    .prop('startDate', sDateString())\n    .prop('endDate', sDateString())\n    .prop('description', sLocales())\n    .prop('operatorId', sStringId())\n    .prop('link', S.string())\n    .prop('linkLabel', sLocales())\n    .prop('tokenId', sStringId())\n    .prop('vaultIds', S.array().items(sStringId()))\n    .description('VaultIds realted to the boost')\n    .prop('rules', S.array().items(S.string()))\n    .description('Rules realted to the boost')\n    .prop('pools', S.array().items(S.string()))\n    .description('Pools realted to the boost')\n}\n\nexport type CampaignBoostType =\n  | 'REFERRAL'\n  | 'REFERRAL_FEE'\n  | 'REFERRED'\n  | 'STAKE'\n  | 'DEPOSIT'\n  | 'DEPOSIT_BALANCER'\n  | 'DEPOSIT_NAPIER'\n  | 'DEPOSIT_PENDLE'\n  | 'DEPOSIT_EULER'\n\nexport function sCampaignBoostType() {\n  return S.string().enum([\n    'REFERRAL',\n    'REFERRAL_FEE',\n    'REFERRED',\n    'STAKE',\n    'DEPOSIT',\n    'DEPOSIT_BALANCER',\n    'DEPOSIT_NAPIER',\n    'DEPOSIT_PENDLE',\n    'DEPOSIT_EULER',\n  ])\n}\n\nexport interface CampaignReferral {\n  code: string\n  isActive: boolean\n}\n\nexport function sCampaignReferral() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', sCampaignReferralCode())\n    .required()\n    .prop('isActive', S.boolean())\n    .required()\n}\n\nexport function sCampaignReferralCode() {\n  return S.string().minLength(6).maxLength(8).pattern('^[a-zA-Z0-9]*$')\n}\n\nexport interface CampaignsSearchQuery extends PageSearchQuery {\n  code?: string | string[]\n  startDate?: string\n  'startDate:lt'?: string\n  'startDate:lte'?: string\n  'startDate:gt'?: string\n  'startDate:gte'?: string\n  endDate?: string\n  'endDate:lt'?: string\n  'endDate:lte'?: string\n  'endDate:gt'?: string\n  'endDate:gte'?: string\n}\n\nexport function sCampaignsSearchQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.array().maxItems(200).items(S.string()))\n    .prop('tokenId', S.array().maxItems(200).items(sStringId()))\n    .description('The token IDentifier')\n    .prop('startDate', sDateString())\n    .description('The epoch start date equal than')\n    .prop('startDate:lt', sDateString())\n    .description('The epoch start date less than')\n    .prop('startDate:lte', sDateString())\n    .description('The epoch start date less or equal than')\n    .prop('startDate:gt', sDateString())\n    .description('The epoch start date greater than')\n    .prop('startDate:gte', sDateString())\n    .description('The epoch start date greater or equal than')\n    .prop('endDate', sDateString())\n    .description('The epoch end date equal than')\n    .prop('endDate:lt', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:lte', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:gt', sDateString())\n    .description('The epoch start date equal than')\n    .prop('endDate:gte', sDateString())\n    .description('The epoch start date equal than')\n    .extend(sPageSearchQuery(CAMPAIGN_FIELDS, CAMPAIGN_SORT_FIELDS))\n}\n\nexport enum CampaignsRoutingKey {\n  idleSync = 'idle.campaign.sync',\n}\n\nexport interface CampaignsClientModel {\n  create: (body: CampaignData) => Promise<Campaign>\n  search: (params?: CampaignsSearchQuery) => Promise<Page<Campaign>>\n  searchAll: (params?: CampaignsSearchQuery) => Promise<Page<Campaign>>\n  list: (params?: CampaignsSearchQuery) => Promise<Campaign[]>\n  listAll: (params?: CampaignsSearchQuery) => Promise<Campaign[]>\n  findOne: (params?: CampaignsSearchQuery) => Promise<Campaign | undefined>\n  readOne: (params: CampaignsSearchQuery) => Promise<Campaign>\n}\n\nexport enum CampaignRoutes {\n  v1Create = `v1/${CAMPAIGNS_ROUTES_KEY}`,\n  v1Delete = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId`,\n  v1Read = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId`,\n  v1Update = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId`,\n  v1Search = `v1/${CAMPAIGNS_ROUTES_KEY}`,\n  v1Points = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId/points`,\n  v1Sync = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId/sync`,\n  v1Ranking = `v1/${CAMPAIGNS_ROUTES_KEY}/:campaignId/ranking`,\n}\n\nexport enum CampaignErrorCodes {\n  notFound = 'CAMPAIGN_NOT_FOUND',\n  notDeletable = 'CAMPAIGN_NOT_DELETABLE',\n  walletRequired = 'WALLET_REQUIRED',\n  referralNotValid = 'REFERRAL_CODE_INVALID',\n  referralCodeNotActive = 'REFERRAL_CODE_NOT_ACTIVE',\n  rankOverflow = 'RANK_OVERFLOW',\n}\n\nexport interface CampaignPointsQuery {\n  walletId?: string\n  walletAddress?: string\n}\n\nexport function sCampaignPointsQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .description('Wallet Identifier')\n    .prop('walletAddress', sBCAddress())\n    .description('Wallet address')\n}\n\nexport interface CampaignPoints extends CampaignMetrics {\n  vaults?: CampaignPointsVault[]\n  boosts?: CampaignPointsBoost[]\n  metrics?: { [key: string]: string | number }\n}\n\nexport function sCampaignPoints() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('vaults', S.array().items(sCampaignPointsVault()))\n    .prop('boosts', S.array().items(sCampaignPointsBoost()))\n    .prop('metrics', sCampaignPointsMetrics())\n    .extend(sCampaignMetrics())\n}\n\nexport interface CampaignPointsVault extends CampaignMetrics {\n  _id: string\n}\n\nexport function sCampaignPointsVault() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('_id', sStringId())\n    .required()\n    .extend(sCampaignMetrics())\n}\n\nexport function sCampaignPointsMetrics() {\n  return S.object().additionalProperties(true)\n}\n\nexport interface CampaignMetrics {\n  points: string\n  perDay: string\n  multiplierScaled?: string\n  multiplier: string\n  rewards?: CampaignMetricsReward[]\n  code?: string\n  rules?: string[]\n}\n\nexport interface CampaignMetricsReward {\n  tokenId?: string\n  amount?: iBigInt\n  USD: iBigInt\n}\n\nexport function sCampaignMetricsReward() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('USD', sBigInt())\n    .required()\n    .prop('tokenId', sStringId())\n    .prop('amount', sBigInt())\n}\n\nexport function sCampaignMetrics() {\n  return S.object()\n    .prop('points', S.string())\n    .required()\n    .prop('perDay', S.string())\n    .required()\n    .prop('multiplier', S.string())\n    .required()\n    .prop('multiplierScaled', S.string())\n    .prop('rewards', S.array().items(sCampaignMetricsReward()))\n    .prop('code', S.string())\n    .prop('rules', S.array().items(S.string()))\n}\n\nexport interface CampaignPointsBoost extends CampaignMetrics {\n  code: string\n}\n\nexport function sCampaignPointsBoost() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('code', S.string())\n    .required()\n    .extend(sCampaignMetrics())\n}\n\nexport interface CampaignRankingQuery {\n  walletId?: string | string[]\n  walletAddress?: string | string[]\n  rank?: number | number[]\n}\n\nexport function sCampaignRankingQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', S.array().minItems(1).maxItems(200).items(sStringId()))\n    .prop(\n      'walletAddress',\n      S.array().minItems(1).maxItems(200).items(sBCAddress())\n    )\n    .prop('rank', S.array().minItems(1).maxItems(200).items(S.number()))\n}\n\nexport interface CampaignRanking {\n  totalPoints: number\n  totalWallets: number\n  totalWalletsWithPoints: number\n  rankings: CampaignRankingWallet[]\n  updatedAt?: string\n}\n\nexport function sCampaignRanking() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('totalPoints', S.number())\n    .required()\n    .prop('totalWallets', S.number())\n    .required()\n    .prop('totalWalletsWithPoints', S.number())\n    .required()\n    .prop('rankings', S.array().items(sCampaignRankingWallet()))\n    .required()\n    .prop('updatedAt', S.string())\n}\n\nexport interface CampaignRankingWallet {\n  walletId: string\n  walletAddress: string\n  points: number\n  perDay: number\n  rank: number\n}\n\nexport function sCampaignRankingWallet() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .required()\n    .prop('walletAddress', sBCAddress())\n    .required()\n    .prop('points', S.number())\n    .required()\n    .prop('perDay', S.number())\n    .required()\n    .prop('rank', S.number())\n    .required()\n}\n"],"names":["S","sClientEntity","sDateString","sLocales","sStringId","sUnitTime","sPageSearchQuery","sBCAddress","sBigInt","CAMPAIGN_FIELDS","CAMPAIGN_SORT_FIELDS","CAMPAIGNS_ROUTES_KEY","sCampaign","isPartial","object","id","additionalProperties","extend","sCampaignData","prop","string","array","items","sCampaignRule","sCampaignReferral","sCampaignBoost","number","boolean","required","sCampaignRuleTrigger","sCampaignRuleDeposit","sCampaignReward","sCampaignRuleFrequency","enum","sCampaignRuleDepositType","sCampaignRewardType","sCampaignBoostType","description","sCampaignReferralCode","minLength","maxLength","pattern","sCampaignsSearchQuery","maxItems","CampaignsRoutingKey","CampaignRoutes","CampaignErrorCodes","sCampaignPointsQuery","sCampaignPoints","sCampaignPointsVault","sCampaignPointsBoost","sCampaignPointsMetrics","sCampaignMetrics","sCampaignMetricsReward","sCampaignRankingQuery","minItems","sCampaignRanking","sCampaignRankingWallet"],"mappings":"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"}