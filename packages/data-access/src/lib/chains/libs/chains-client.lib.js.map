{"version":3,"sources":["../../../../../../../../libs/shared/data-access/src/lib/chains/libs/chains-client.lib.ts"],"sourcesContent":["import { Axios } from 'axios'\nimport { ChainRoutes, ChainsClient, ChainsSearchQuery } from '../chain.model'\nimport { uriFy } from '../../core'\n\n/**\n * Create chains client\n * @param axios - The Axios instance\n * @returns the chains AXIOS client\n */\nexport function createChainsClient(axios: Axios): ChainsClient {\n  return {\n    // Search chains\n    search: (searchParams?: ChainsSearchQuery) =>\n      axios\n        .request({\n          url: ChainRoutes.v1Search,\n          method: 'GET',\n          responseType: 'json',\n          params: searchParams\n            ? new URLSearchParams(uriFy(searchParams))\n            : undefined,\n        })\n        .then((response) => response.data),\n\n    // List chains\n    list: (searchParams?: ChainsSearchQuery) =>\n      axios\n        .request({\n          url: ChainRoutes.v1Search,\n          method: 'GET',\n          responseType: 'json',\n          params: searchParams\n            ? new URLSearchParams(uriFy(searchParams))\n            : undefined,\n        })\n        .then((response) => {\n          const page = response.data\n          return page.data\n        }),\n    findOne: (searchParams?: ChainsSearchQuery) =>\n      axios\n        .request({\n          url: ChainRoutes.v1Search,\n          method: 'GET',\n          params: searchParams\n            ? new URLSearchParams(uriFy(searchParams))\n            : undefined,\n        })\n        .then((response) => {\n          const page = response.data\n          return page.data ? page.data[0] : undefined\n        }),\n    readOne: (searchParams: ChainsSearchQuery) =>\n      axios\n        .request({\n          url: ChainRoutes.v1Search,\n          method: 'GET',\n          params: new URLSearchParams(uriFy(searchParams)),\n        })\n        .then((response) => {\n          const { data } = response.data\n\n          if (!data.length) {\n            throw Error('Not found')\n          }\n\n          return data[0]\n        }),\n  }\n}\n"],"names":["ChainRoutes","uriFy","createChainsClient","axios","search","searchParams","request","url","v1Search","method","responseType","params","URLSearchParams","undefined","then","response","data","list","page","findOne","readOne","length","Error"],"mappings":"AACA,SAASA,WAAW,QAAyC,iBAAgB;AAC7E,SAASC,KAAK,QAAQ,aAAY;AAElC;;;;CAIC,GACD,OAAO,SAASC,mBAAmBC,KAAY;IAC7C,OAAO;QACL,gBAAgB;QAChBC,QAAQ,CAACC,eACPF,MACGG,OAAO,CAAC;gBACPC,KAAKP,YAAYQ,QAAQ;gBACzBC,QAAQ;gBACRC,cAAc;gBACdC,QAAQN,eACJ,IAAIO,gBAAgBX,MAAMI,iBAC1BQ;YACN,GACCC,IAAI,CAAC,CAACC,WAAaA,SAASC,IAAI;QAErC,cAAc;QACdC,MAAM,CAACZ,eACLF,MACGG,OAAO,CAAC;gBACPC,KAAKP,YAAYQ,QAAQ;gBACzBC,QAAQ;gBACRC,cAAc;gBACdC,QAAQN,eACJ,IAAIO,gBAAgBX,MAAMI,iBAC1BQ;YACN,GACCC,IAAI,CAAC,CAACC;gBACL,MAAMG,OAAOH,SAASC,IAAI;gBAC1B,OAAOE,KAAKF,IAAI;YAClB;QACJG,SAAS,CAACd,eACRF,MACGG,OAAO,CAAC;gBACPC,KAAKP,YAAYQ,QAAQ;gBACzBC,QAAQ;gBACRE,QAAQN,eACJ,IAAIO,gBAAgBX,MAAMI,iBAC1BQ;YACN,GACCC,IAAI,CAAC,CAACC;gBACL,MAAMG,OAAOH,SAASC,IAAI;gBAC1B,OAAOE,KAAKF,IAAI,GAAGE,KAAKF,IAAI,CAAC,EAAE,GAAGH;YACpC;QACJO,SAAS,CAACf,eACRF,MACGG,OAAO,CAAC;gBACPC,KAAKP,YAAYQ,QAAQ;gBACzBC,QAAQ;gBACRE,QAAQ,IAAIC,gBAAgBX,MAAMI;YACpC,GACCS,IAAI,CAAC,CAACC;gBACL,MAAM,EAAEC,IAAI,EAAE,GAAGD,SAASC,IAAI;gBAE9B,IAAI,CAACA,KAAKK,MAAM,EAAE;oBAChB,MAAMC,MAAM;gBACd;gBAEA,OAAON,IAAI,CAAC,EAAE;YAChB;IACN;AACF"}