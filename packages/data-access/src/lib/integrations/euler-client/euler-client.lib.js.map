{"version":3,"sources":["../../../../../../../../libs/shared/data-access/src/lib/integrations/euler-client/euler-client.lib.ts"],"sourcesContent":["import axios, { Axios, CreateAxiosDefaults } from 'axios'\nimport { IntegrationClientModel } from '../integration-client.model'\n\nexport class EulerClient implements IntegrationClientModel {\n  // Axios instance\n  private axios: Axios\n\n  constructor() {\n    this.axios = this.initAxios()\n  }\n\n  /**\n   * Axios initialization\n   */\n  private initAxios() {\n    const options: CreateAxiosDefaults = {\n      baseURL: 'https://app.euler.finance/api/v1/',\n      headers: {\n        'content-type': 'application/json',\n      },\n    }\n    return axios.create(options)\n  }\n\n  // Methods\n\n  public async getAccountVaults(account: string): Promise<string[]> {\n    return this.axios\n      .request({\n        url: `accounts/vaults?chainId=1&account=${account}`,\n        method: 'GET',\n        responseType: 'json',\n      })\n      .then((response) => {\n        if (!response?.data) {\n          return []\n        }\n\n        return response.data.map(\n          (d: { account: string; vault: string }) => d.vault\n        )\n      })\n      .catch(() => [])\n  }\n}\n"],"names":["axios","EulerClient","initAxios","options","baseURL","headers","create","getAccountVaults","account","request","url","method","responseType","then","response","data","map","d","vault","catch","constructor"],"mappings":"AAAA,OAAOA,WAA2C,QAAO;AAGzD,OAAO,MAAMC;IAQX;;GAEC,GACD,AAAQC,YAAY;QAClB,MAAMC,UAA+B;YACnCC,SAAS;YACTC,SAAS;gBACP,gBAAgB;YAClB;QACF;QACA,OAAOL,MAAMM,MAAM,CAACH;IACtB;IAEA,UAAU;IAEV,MAAaI,iBAAiBC,OAAe,EAAqB;QAChE,OAAO,IAAI,CAACR,KAAK,CACdS,OAAO,CAAC;YACPC,KAAK,CAAC,kCAAkC,EAAEF,QAAQ,CAAC;YACnDG,QAAQ;YACRC,cAAc;QAChB,GACCC,IAAI,CAAC,CAACC;YACL,IAAI,EAACA,4BAAAA,SAAUC,IAAI,GAAE;gBACnB,OAAO,EAAE;YACX;YAEA,OAAOD,SAASC,IAAI,CAACC,GAAG,CACtB,CAACC,IAA0CA,EAAEC,KAAK;QAEtD,GACCC,KAAK,CAAC,IAAM,EAAE;IACnB;IApCAC,aAAc;QACZ,IAAI,CAACpB,KAAK,GAAG,IAAI,CAACE,SAAS;IAC7B;AAmCF"}