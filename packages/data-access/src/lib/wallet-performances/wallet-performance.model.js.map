{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/wallet-performances/wallet-performance.model.ts"],"sourcesContent":["import S from 'fluent-json-schema'\nimport {\n  Page,\n  sBCAddress,\n  sBCHash,\n  sBigInt,\n  sBlock,\n  sClientEntity,\n  sDateString,\n  sPageSearchQuery,\n  sPercentage,\n  sReward,\n  sStringId,\n} from '../core'\nimport { Block, ClientEntity, PageSearchQuery, Reward, iBigInt } from '../core'\nimport { WALLET_PERFORMANCES_ROUTES_KEY } from './wallet-performance.const'\nimport {\n  sWalletBlockDistributedRewards,\n  WalletBlock,\n  WalletBlockDistributedRewards,\n} from '../wallet-blocks'\nimport { sWeb3Protocol, Web3Protocol } from '../web3-client'\nimport {\n  sWalletEpochStatsEarnings,\n  sWalletEpochStatsEarningsPercentage,\n  Vault,\n  WalletEpochEarningsPercentage,\n  WalletEpochStatsEarnings,\n} from '../vaults'\nimport { Token } from '../tokens'\nimport { VaultBlock } from '../vault-blocks'\nimport { TokenBlock } from '../token-blocks'\nimport { VaultEpoch } from '../vault-epochs'\nimport { sTransactionType, TransactionType } from '../transactions'\n\n/**\n * Client WalletPerformance interface\n */\nexport interface WalletPerformance\n  extends WalletPerformanceData,\n    ClientEntity {}\n\nexport function sWalletPerformance(isPartial?: boolean) {\n  return S.object()\n    .id('#walletPerformance')\n    .additionalProperties(false)\n    .extend(sClientEntity(isPartial))\n    .extend(sWalletPerformanceData(isPartial))\n}\n\nexport interface WalletPerformanceData extends WalletBlockPerformance {\n  walletId: string\n  walletAddress: string\n  vaultId: string\n  vaultAddress: string\n  block: Block\n  deposits: WalletBlockAmounts\n  redeemable: WalletBlockAmounts\n}\n\nexport function sWalletPerformanceData(isPartial?: boolean) {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .prop('walletAddress', sBCAddress())\n    .prop('vaultId', sStringId())\n    .prop('vaultAddress', sBCAddress())\n    .prop('block', sBlock())\n    .prop('deposits', sWalletBlockAmounts())\n    .description(\"The wallet's deposits.\")\n    .prop('redeemable', sWalletBlockAmounts())\n    .description(\"The wallet's redeemable amounts.\")\n    .required(\n      isPartial\n        ? []\n        : ['walletId', 'walletAddress', 'vaultId', 'vaultAddress', 'block']\n    )\n    .extend(sWalletBlockPerformance(isPartial))\n}\n\nexport interface WalletPortfolio extends WalletBlockPerformance {\n  vaultIds: string[]\n  operators: WalletPositionOperator[]\n  chains: WalletPositionChain[]\n  tokens: WalletPositionToken[]\n  deposits: WalletBlockAmounts\n  redeemable: WalletBlockAmounts\n  pendingDeposits: WalletBlockAmounts\n  pendingWithdraws: WalletBlockAmounts\n}\n\nexport function sWalletPositionAggregated() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('vaultIds', S.array().items(sStringId()))\n    .required()\n    .prop('operators', S.array().items(sWalletPositionOperator()))\n    .required()\n    .prop('chains', S.array().items(sWalletPositionChain()))\n    .required()\n    .prop('tokens', S.array().items(sWalletPositionToken()))\n    .required()\n    .prop('deposits', sWalletBlockAmounts())\n    .description(\"The user's deposits.\")\n    .required()\n    .prop('redeemable', sWalletBlockAmounts())\n    .description(\"The user's redeemable amounts.\")\n    .required()\n    .prop('pendingDeposits', sWalletBlockAmounts())\n    .description(\"The user's pending deposits.\")\n    .required()\n    .prop('pendingWithdraws', sWalletBlockAmounts())\n    .description(\"The user's pending withdraws.\")\n    .required()\n    .extend(sWalletBlockPerformance())\n}\n\nexport interface WalletPositionToken {\n  walletId: string\n  tokenId: string\n  tokenAddress: string\n  protocol?: Web3Protocol\n  amount: iBigInt\n  USD: iBigInt\n  percentage: number\n  pool?: string\n  operatorId?: string\n  endDate?: string\n}\n\nexport function sWalletPositionToken() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .required()\n    .prop('tokenId', sStringId())\n    .required()\n    .prop('tokenAddress', sBCAddress())\n    .required()\n    .prop('amount', sBigInt())\n    .required()\n    .prop('USD', sBigInt())\n    .required()\n    .prop('percentage', S.number())\n    .required()\n    .prop('pool', S.string())\n    .prop('operatorId', sStringId())\n    .prop('endDate', sDateString())\n    .prop('protocol', sWeb3Protocol())\n}\n\nexport interface WalletPositionChain {\n  chainId: string\n  USD: iBigInt\n  percentage: number\n}\n\nexport function sWalletPositionChain() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('chainId', sStringId())\n    .required()\n    .prop('USD', sBigInt())\n    .required()\n    .prop('percentage', S.number())\n    .required()\n}\n\nexport interface WalletPositionOperator {\n  operatorId: string\n  USD: iBigInt\n  percentage: number\n}\n\nexport function sWalletPositionOperator() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('operatorId', sStringId())\n    .required()\n    .prop('USD', sBigInt())\n    .required()\n    .prop('percentage', S.number())\n    .required()\n}\n\nexport interface WalletDistributedRewards\n  extends WalletBlockDistributedRewards {\n  walletId: string\n  block: Block\n  APR: number\n  percentage: number\n}\n\nexport function sWalletDistributedRewards() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('block', sBlock())\n    .required()\n    .prop('APR', S.number())\n    .required()\n    .prop('percentage', S.number())\n    .required()\n    .extend(sWalletBlockDistributedRewards())\n}\n\nexport interface WalletDeposits {\n  walletId: string\n  avgPrice: iBigInt\n  deposits: WalletBlockAmounts\n  redeemable: WalletBlockAmounts\n  pendingDeposits: WalletBlockAmounts\n  pendingWithdraws: WalletBlockAmounts\n}\n\nexport function sWalletDeposits() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .required()\n    .prop('avgPrice', sBigInt())\n    .description(\"The user's avg buy price.\")\n    .required()\n    .prop('deposits', sWalletBlockAmounts())\n    .description(\"The user's deposits.\")\n    .required()\n    .prop('redeemable', sWalletBlockAmounts())\n    .description(\"The user's redeemable amounts.\")\n    .required()\n    .prop('pendingDeposits', sWalletBlockAmounts())\n    .description(\"The user's pending deposits.\")\n    .required()\n    .prop('pendingWithdraws', sWalletBlockAmounts())\n    .description(\"The user's pending withdraws.\")\n    .required()\n}\n\nexport interface WalletVaultBalance {\n  block: Block\n  balance: iBigInt\n  tokenBalance: iBigInt\n}\n\nexport function sWalletVaultBalance() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('block', sBlock())\n    .required()\n    .prop('balance', sBigInt())\n    .description('The balance of the wallet in the vault.')\n    .required()\n    .prop('tokenBalance', sBigInt())\n    .description('The current token balance of the wallet.')\n    .required()\n}\n\nexport interface WalletPosition extends WalletBlockPerformance, WalletDeposits {\n  block: Block\n  walletId: string\n  walletAddress: string\n  tokenId: string\n  vaultId: string\n  chainId: string\n  vaultPrice: string\n  vaultAddress: string\n  tokenAddress: string\n  balances?: WalletVaultBalance[]\n}\n\nexport function sWalletPosition() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', sStringId())\n    .required()\n    .prop('vaultId', sStringId())\n    .required()\n    .prop('chainId', sStringId())\n    .required()\n    .prop('tokenId', sStringId())\n    .required()\n    .prop('walletAddress', sBCAddress())\n    .required()\n    .prop('vaultAddress', sBCAddress())\n    .required()\n    .prop('tokenAddress', sBCAddress())\n    .required()\n    .prop('vaultPrice', sBigInt())\n    .description('The current vault price')\n    .required()\n    .prop('balances', S.array().items(sWalletVaultBalance()))\n    .description(\"The user's redeemable amounts.\")\n    .extend(sWalletBlockPerformance())\n    .extend(sWalletDeposits())\n}\n\nexport interface WalletBlockPerformance {\n  startBlock: Block\n  endBlock: Block\n  // The age of the wallet block performance in seconds\n  age: number\n  // Earnings\n  earnings: WalletBlockEarnings\n  // Fees\n  fees: WalletBlockAmounts\n  // APY realized\n  realizedAPY: number\n  // APY realized with rewards\n  rewardsRealizedAPY: number\n  // Balances\n  balance?: iBigInt\n  tokenBalance?: iBigInt\n  // Percentage of the pool\n  poolSharePercentage: number\n  // Rewards accrued but not yet received\n  accruedRewards?: Reward[]\n  // Rewards actually received\n  collectedRewards?: Reward[]\n  // Additional tokens balances\n  tokens?: WalletPositionToken[]\n}\n\nexport function sWalletBlockPerformance(isPartial?: boolean) {\n  return (\n    S.object()\n      .additionalProperties(false)\n      .prop('startBlock', sBlock())\n      .prop('endBlock', sBlock())\n      .prop('age', S.number())\n      .prop('earnings', sWalletBlockEarnings())\n      .description(\"The user's earnings.\")\n      .prop('fees', sWalletBlockAmounts())\n      .description(\"The user's fees.\")\n      .prop('realizedAPY', S.number())\n      .description(\"The user's APY realized.\")\n      .prop('rewardsRealizedAPY', S.number())\n      .description(\"The user's APY realized with rewards.\")\n      .prop('poolSharePercentage', sPercentage())\n      .description('The pool share percentage of the user.')\n      .prop('accruedRewards', S.array().items(sReward()))\n      .description('The accrued rewards of the user.')\n      .prop('collectedRewards', S.array().items(sReward()))\n      .description('The collected rewards of the user.')\n      .prop('tokens', S.array().items(sWalletPositionToken()))\n\n      // Backward-compatible\n      .prop('balance', sBigInt())\n      .description('The balance of the wallet in the vault.')\n      .prop('tokenBalance', sBigInt())\n      .description('The current token balance of the wallet.')\n      .required(\n        isPartial\n          ? []\n          : ['age', 'earnings', 'realizedAPY', 'poolSharePercentage']\n      )\n  )\n}\n\nexport interface WalletBlockAmounts {\n  // USD amount\n  USD: iBigInt\n  // Underlying token amount\n  token?: iBigInt\n  // Idle token amount\n  vault?: iBigInt\n}\n\nexport function sWalletBlockAmounts() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('USD', sBigInt())\n    .description(\"The wallet's earnings in USD.\")\n    .required()\n    .prop('token', sBigInt())\n    .description(\"The wallet's earnings in underlying tokens.\")\n    .prop('vault', sBigInt())\n    .description(\"The wallet's earnings in vault tokens.\")\n}\n\nexport interface WalletBlockEarnings extends WalletBlockAmounts {\n  // The percentage of the earning from the starting price\n  percentage: number\n  // Rewards\n  rewards?: WalletBlockEarningsRewards\n}\n\nexport interface WalletVaultPerformanceData {\n  vault: Vault\n  token: Token\n  vaultToken: Token\n  vaultBlocks: VaultBlock[]\n  tokenBlocks: TokenBlock[]\n  vaultEpochs: VaultEpoch[]\n  latestVaultBlock: VaultBlock\n  walletsBlocks: WalletBlock[]\n  walletsTokens: WalletPositionToken[]\n  latestWalletsBlocks: WalletBlock[]\n  walletsVaultDeposits: WalletDeposits[]\n  vaultEpochsBlocks: VaultBlock[]\n  walletsVaultRewards: WalletDistributedRewards[]\n}\n\nexport function sWalletBlockEarnings() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('percentage', S.number())\n    .description(\"The wallet's percentage earnings.\")\n    .required()\n    .prop('rewards', sWalletBlockEarningsRewards())\n    .description(\"The user's rewards earnings.\")\n    .extend(sWalletBlockAmounts())\n}\n\nexport interface WalletBlockEarningsRewards {\n  // USD amount\n  USD: iBigInt\n  // The percentage of the earning from the starting price\n  percentage: number\n}\n\nexport function sWalletBlockEarningsRewards() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('USD', sBigInt())\n    .description(\"The wallet's rewards USD earnings.\")\n    .required()\n    .prop('percentage', S.number())\n    .description(\"The wallet's rewards percentage earnings.\")\n    .required()\n}\n\nexport interface WalletVaultHistory {\n  vaultId: string\n  tokenId: string\n  action: TransactionType\n  block: Block\n  price: iBigInt\n  lpBalance: iBigInt\n  tokenBalance: iBigInt\n  stakedBalance?: iBigInt\n  poolsBalance?: iBigInt\n  amount: iBigInt\n  tokenAmount: iBigInt\n  earnings: WalletEpochStatsEarnings\n  earningsPercentage: WalletEpochEarningsPercentage\n  realizedAPY?: number\n  operatorId?: string\n  epochNumber?: number\n  hash: string\n}\n\nexport function sWalletVaultHistory() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('vaultId', sStringId())\n    .required()\n    .prop('tokenId', sStringId())\n    .required()\n    .prop('action', sTransactionType())\n    .required()\n    .prop('block', sBlock())\n    .required()\n    .prop('tokenBalance', sBigInt())\n    .required()\n    .prop('lpBalance', sBigInt())\n    .required()\n    .prop('stakedBalance', sBigInt())\n    .prop('poolsBalance', sBigInt())\n    .prop('earnings', sWalletEpochStatsEarnings())\n    .required()\n    .prop('earningsPercentage', sWalletEpochStatsEarningsPercentage())\n    .required()\n    .prop('price', sBigInt())\n    .required()\n    .prop('amount', sBigInt())\n    .required()\n    .prop('tokenAmount', sBigInt())\n    .required()\n    .prop('realizedAPY', S.number())\n    .prop('hash', sBCHash())\n    .prop('epochNumber', S.number())\n    .prop('operatorId', sStringId())\n}\n\nexport enum WalletPerformanceErrorCodes {\n  alreadyExists = 'WALLET_PERFORMANCE_ALREADY_EXISTS',\n  rewardProgramNotFound = 'WALLET_PERFORMANCE_REWARD_PROGRAM_NOT_FOUND',\n}\n\nexport type WalletPerformanceFields =\n  | '_id'\n  | 'walletId'\n  | 'vaultId'\n  | 'block'\n  | 'age'\n  | 'earnings'\n  | 'realizedAPY'\n  | 'poolSharePercentage'\n  | 'accruedRewards'\n  | 'collectedRewards'\n  | 'createdAt'\n  | 'createdBy'\n  | 'updatedAt'\n  | 'updatedBy'\n\nexport const WALLET_PERFORMANCE_FIELDS = [\n  '_id',\n  'walletId',\n  'vaultId',\n  'block',\n  'age',\n  'earnings',\n  'realizedAPY',\n  'poolSharePercentage',\n  'accruedRewards',\n  'collectedRewards',\n  'createdAt',\n  'createdBy',\n  'updatedAt',\n  'updatedBy',\n]\n\nexport const WALLET_PERFORMANCE_SORT_FIELDS = ['_id']\n\nexport interface WalletPerformancesSearchQuery\n  extends PageSearchQuery<'_id', WalletPerformanceFields> {\n  vaultId?: string | string[]\n  vaultAddress?: string | string[]\n  walletId?: string | string[]\n  walletAddress?: string | string[]\n}\n\nexport function sWalletPerformancesSearchQuery() {\n  return S.object()\n    .additionalProperties(false)\n    .prop('walletId', S.array().minItems(1).maxItems(200).items(sStringId()))\n    .description('Wallet IDs of the performance that must match.')\n    .prop(\n      'walletAddress',\n      S.array().minItems(1).maxItems(200).items(sBCAddress())\n    )\n    .description('The wallet blockchain address')\n    .prop('vaultId', S.array().minItems(1).maxItems(200).items(sStringId()))\n    .description('Vault IDs of the performance that must match.')\n    .prop(\n      'vaultAddress',\n      S.array().minItems(1).maxItems(200).items(sBCAddress())\n    )\n    .description('The vault blockchain address')\n    .prop('timestamp:gte', S.number())\n    .description('Start timestamp of the performance.')\n    .prop('timestamp:lte', S.number())\n    .description('End timestamp of the performance.')\n    .extend(\n      sPageSearchQuery(\n        WALLET_PERFORMANCE_FIELDS,\n        WALLET_PERFORMANCE_SORT_FIELDS\n      )\n    )\n}\n\nexport interface WalletPerformanceClientModel {\n  search: (\n    params?: WalletPerformancesSearchQuery\n  ) => Promise<Page<WalletPerformance>>\n  searchAll: (\n    params?: WalletPerformancesSearchQuery\n  ) => Promise<Page<WalletPerformance>>\n  list: (params?: WalletPerformancesSearchQuery) => Promise<WalletPerformance[]>\n  listAll: (\n    params?: WalletPerformancesSearchQuery\n  ) => Promise<WalletPerformance[]>\n}\n\nexport enum WalletPerformanceRoutes {\n  v1Search = `v1/${WALLET_PERFORMANCES_ROUTES_KEY}`,\n}\n"],"names":["WALLET_PERFORMANCE_FIELDS","WALLET_PERFORMANCE_SORT_FIELDS","sWalletBlockAmounts","sWalletBlockEarnings","sWalletBlockEarningsRewards","sWalletBlockPerformance","sWalletDeposits","sWalletDistributedRewards","sWalletPerformance","sWalletPerformanceData","sWalletPerformancesSearchQuery","sWalletPosition","sWalletPositionAggregated","sWalletPositionChain","sWalletPositionOperator","sWalletPositionToken","sWalletVaultBalance","sWalletVaultHistory","isPartial","S","object","id","additionalProperties","extend","sClientEntity","prop","sStringId","sBCAddress","sBlock","description","required","array","items","sBigInt","number","string","sDateString","sWeb3Protocol","sWalletBlockDistributedRewards","sPercentage","sReward","sTransactionType","sWalletEpochStatsEarnings","sWalletEpochStatsEarningsPercentage","sBCHash","WalletPerformanceErrorCodes","minItems","maxItems","sPageSearchQuery","WalletPerformanceRoutes","WALLET_PERFORMANCES_ROUTES_KEY"],"mappings":"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"}