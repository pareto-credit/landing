{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/alchemy/alchemy.lib.ts"],"sourcesContent":["import { Alchemy } from 'alchemy-sdk'\nimport { Chain } from '../chains'\nimport { EthersRPC } from '../ethers'\nimport { ALCHEMY_CHAINS } from './alchemy.const'\n\n/**\n * Init Alchemy WebSocket Provider\n * @param chain - the chain object\n * @param apiKey - the Alchemy API Key\n * @returns the ethers provider\n */\nexport async function initAlchemySocketProvider(\n  { _id, name, chainID }: Chain,\n  apiKey: string\n): Promise<EthersRPC> {\n  // Init Alchemy\n  const network = ALCHEMY_CHAINS[chainID]\n  const alchemy = new Alchemy({\n    apiKey,\n    network,\n  })\n\n  // Provider\n  const provider = await alchemy.config.getWebSocketProvider()\n\n  return {\n    chain: {\n      _id,\n      name,\n      chainID,\n    },\n    provider,\n  }\n}\n"],"names":["Alchemy","ALCHEMY_CHAINS","initAlchemySocketProvider","_id","name","chainID","apiKey","network","alchemy","provider","config","getWebSocketProvider","chain"],"mappings":"AAAA,SAASA,OAAO,QAAQ,cAAa;AAGrC,SAASC,cAAc,QAAQ,kBAAiB;AAEhD;;;;;CAKC,GACD,OAAO,eAAeC,0BACpB,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO,EAAS,EAC7BC,MAAc;IAEd,eAAe;IACf,MAAMC,UAAUN,cAAc,CAACI,QAAQ;IACvC,MAAMG,UAAU,IAAIR,QAAQ;QAC1BM;QACAC;IACF;IAEA,WAAW;IACX,MAAME,WAAW,MAAMD,QAAQE,MAAM,CAACC,oBAAoB;IAE1D,OAAO;QACLC,OAAO;YACLT;YACAC;YACAC;QACF;QACAI;IACF;AACF"}