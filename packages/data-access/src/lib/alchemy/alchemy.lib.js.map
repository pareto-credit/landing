{"version":3,"sources":["../../../../../../../libs/shared/data-access/src/lib/alchemy/alchemy.lib.ts"],"sourcesContent":["import { Alchemy } from 'alchemy-sdk'\nimport { Chain } from '../chains'\nimport { EthersRPC } from '../ethers'\nimport { ALCHEMY_CHAINS } from './alchemy.const'\n\n/**\n * Init Alchemy WebSocket Provider\n * @param chain - the chain object\n * @param apiKey - the Alchemy API Key\n * @returns the ethers provider\n */\nexport async function initAlchemySocketProvider(\n  { _id, name, chainID }: Chain,\n  apiKey: string\n): Promise<EthersRPC> {\n  // Init Alchemy\n  const network = ALCHEMY_CHAINS[chainID]\n  const alchemy = new Alchemy({\n    apiKey,\n    network,\n  })\n\n  // Provider\n  const provider = await alchemy.config.getWebSocketProvider()\n\n  return {\n    chain: {\n      _id,\n      name,\n      chainID,\n    },\n    provider,\n  }\n}\n"],"names":["initAlchemySocketProvider","_id","name","chainID","apiKey","network","ALCHEMY_CHAINS","alchemy","Alchemy","provider","config","getWebSocketProvider","chain"],"mappings":";;;;+BAWsBA;;;eAAAA;;;4BAXE;8BAGO;AAQxB,eAAeA,0BACpB,EAAEC,GAAG,EAAEC,IAAI,EAAEC,OAAO,EAAS,EAC7BC,MAAc;IAEd,eAAe;IACf,MAAMC,UAAUC,4BAAc,CAACH,QAAQ;IACvC,MAAMI,UAAU,IAAIC,mBAAO,CAAC;QAC1BJ;QACAC;IACF;IAEA,WAAW;IACX,MAAMI,WAAW,MAAMF,QAAQG,MAAM,CAACC,oBAAoB;IAE1D,OAAO;QACLC,OAAO;YACLX;YACAC;YACAC;QACF;QACAM;IACF;AACF"}